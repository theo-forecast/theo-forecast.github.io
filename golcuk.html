
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=2">
  <title>Türkiye Seçim Hesaplama</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* CSS Variables for consistent color palette */
    @media screen and (max-width: 768px) {
      body {
        font-size: 16px;
      }
      .container {
        width: 100%;
        padding: 0px;
      }
    }
    
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #34495e;
      --accent-color: #e67e22;
      --light-bg: #f0f2f5;
      --mid-bg: #cfd8dc;
      --white: #fff;
      --text-color: #333;
      --border-color: #ddd;
      --hover-bg: #f1f1f1;
    }
    
    /* Reset */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Roboto', sans-serif;
      font-size: 16px;
      background: linear-gradient(135deg, var(--light-bg), var(--mid-bg));
      color: var(--text-color);
      padding: 10px;
      min-height: 100vh;
    }
    
    /* Main container styling */
    .container {
      max-width: 1600px;
      margin: 0 auto 20px auto;
      background: var(--white);
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.1);
    }
    
    h1, h2, h3, h4 {
      text-align: center;
      margin-bottom: 10px;
      font-weight: 700;
      color: var(--primary-color);
      font-size: 1.3em;
    }
    
    p {
      text-align: center;
      margin-bottom: 10px;
      font-size: 0.8em;
      line-height: 1;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
    }
    
    table thead {
      background-color: var(--primary-color);
      color: var(--white);
    }
    
    table th,
    table td {
      padding: 6px 4px;
      text-align: center;
      vertical-align: middle;
      border: 1px solid var(--border-color);
      font-size: 1em;
    }
    
    table input {
      text-align: center;
      font-size: 1.6em;
      padding: 5px;
    }
    
    table tbody tr:nth-child(even) {
      background-color: #fafafa;
    }
    
    table tbody tr:hover {
      background-color: var(--hover-bg);
    }
    
    /* Input Styling */
    input[type="number"],
    input[type="text"] {
      width: 100%;
      padding: 6px;
      font-size: 0.7em;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      background-color: #fff;
      outline: none;
    }
    
    input[type="number"]:focus,
    input[type="text"]:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 5px rgba(44,62,80,0.5);
    }
    
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    
    input[type="number"] {
      -moz-appearance: textfield;
    }
    
    input[type="checkbox"] {
      transform: scale(1);
      cursor: pointer;
    }
    
    label {
      font-size: 1em;
      margin-right: 8px;
    }
    
    button {
      background-color: var(--primary-color);
      color: var(--white);
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      font-size: 1.2m;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
      margin: 8px 0;
    }
    
    button:hover {
      background-color: var(--secondary-color);
      transform: scale(1.02);
    }
    
    .results-section {
      margin-top: 20px;
    }
    
    #secondRoundDiv {
      margin-top: 10px;
      padding: 10px;
      border: 2px dashed var(--accent-color);
      text-align: center;
      display: none;
      border-radius: 6px;
      background-color: #fff8f2;
    }
    
    @media (max-width: 768px) {
      table th,
      table td {
        padding: 6px;
      }
      button {
        width: 100%;
      }
    }
    
    /* Province container */
    .province-container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 10px;
    }
    
    #provinceFilter input {
      width: 100%;
      padding: 10px;
      font-size: 0.9em;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      transition: border-color 0.3s ease;
    }
    
    #provinceFilter input:focus {
      border-color: var(--primary-color);
      outline: none;
    }
    
    #provinceResults {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    
    #provinceResults .province-block {
      border: 1px solid var(--primary-color);
      border-radius: 6px;
      padding: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      background: #fafafa;
      transition: transform 0.3s ease;
    }
    
    #provinceResults .province-block:hover {
      transform: translateY(-5px);
    }
    
    /* Tooltip */
    #tooltip {
      position: absolute;
      display: none;
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      padding: 2px;
      border-radius: 4px;
      pointer-events: none;
      font-size: 1em;
      z-index: 100000;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
      max-width: 400px;
      line-height: 1.5;
    }
    
    /* SVG Turkey Map Styles */
    #turkeyMap {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      max-width: 1400px;
      height: auto;
      margin: 0 auto;
      padding: 10px;
      background-color: var(--white);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      position: relative;
    }
    
    #turkeyMapSVG {
      width: 100%;
      height: auto;
      display: block;
      max-width: 100%;
    }
    
    @media screen and (max-width: 768px) {
      #turkeyMap {
        max-width: 100%;
        padding: 10px 0;
      }
      #turkeyMapSVG {
        max-width: 100%;
      }
    }
    
    /* Presidential Table */
    #presidentialTable {
      width: 100%;
      max-width: 1400px;
      margin: 10px auto;
      border-collapse: collapse;
      text-align: center;
    }
    
    #presidentialTableHeader {
      background-color: #00000;
      font-weight: bold;
    }
    
    #presidentialTable th,
    #presidentialTable td {
      padding: 8px;
      border: 1px solid #ddd;
    }
    
    @media screen and (max-width: 768px) {
      #presidentialTable {
        max-width: 100%;
      }
      #presidentialTable th,
      #presidentialTable td {
        padding: 6px;
        font-size: 12px;
      }
    }
    
    /* Bottom tables layout */
    .bottom-tables {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    
    .table-box {
      flex: 1 1 300px;
      background-color: var(--white);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      min-height: 200px;
    }
    
    /* Custom modifications for container widths */
    #swingometerForm > div:first-child > div:first-child {
      flex: 0.3 !important;
    }
    #swingometerForm > div:first-child > div:nth-child(2),
    #swingometerForm > div:first-child > div:nth-child(3) {
      flex: 1.2 !important;
    }
    
    #mapOutputContainer > div:first-of-type > div:nth-child(2) {
      flex: 0.2!important;
    }
    
    /* Create Party Modal Styles */
    #createPartyModal {
      display: none;
      position: fixed;
      top: 20%;
      left: 30%;
      background: var(--white);
      border: 1px solid var(--border-color);
      padding: 20px;
      z-index: 1000;
      border-radius: 8px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.2);
      
    }
    
#createPartyButtonContainer {
  text-align: center; /* Centers inline elements like a button */
}

    
  </style>
</head>
<body>
  <!-- Map and Output Container (Main Box 1) -->
  <div class="container" id="mapOutputContainer">
    <h1>Gölcük Seçim Hesaplama</h1>
    <p>
      Her partinin ulusal oy oranını girin (sayıların toplamı 100 olmak zorunda değildir). Bu değerler, parlamento sandalye tahsisi ve parti desteğinin cumhurbaşkanı adaylarına dağıtımı için temel olarak kullanılan düzeltilmiş ulusal yüzdelere dönüştürülür.
    </p>
    <div style="display: flex; flex-wrap: wrap; gap: 20px;">
      <!-- Map Box -->
      <div style="flex: 1; min-width: 300px; border: 1px solid var(--border-color); padding: 15px;">
        <div id="mapSwitcher" style="text-align: center; margin-bottom: 15px;">
          <button type="button" onclick="switchElectionMode('parliamentary')">Parliamentary</button>
          <button type="button" onclick="switchElectionMode('pres1')">Presidential 1st Round</button>
          <button type="button" onclick="switchElectionMode('pres2')">Presidential 2nd Round</button>
          <button type="button" onclick="reloadMap()">Reload Map</button>
          <button type="button" onclick="calculateSecondRoundOnly()">2nd Round Calculate</button>


        </div>
        <div id="turkeyMap">
          <svg id="turkeyMapSVG" viewBox="0 0 1000 600" preserveAspectRatio="xMidYMid meet">
            <!-- Sample SVG. Replace with your full SVG file as needed -->
            <svg baseprofile="tiny" fill="#6f9c76" height="422" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".5" version="1.2" viewbox="0 0 1000 422" width="1000" xmlns="http://www.w3.org/2000/svg">
              <g id="features">
        <path     d="m 758.99756,113.66408 -0.23515,1.19977 -0.0242,1.15431 0.94364,2.28805 2.39493,2.84881 1.19205,1.43573 0.40188,0.6519 0.33044,0.53534 -5.54587,1.71233 -0.22735,0.0575 -0.26427,0.038 h -0.2881 l -0.39129,-0.0782 -0.23263,-0.107 -0.92778,-0.46689 -1.69173,-0.88267 -1.3085,-0.67986 -2.59844,-1.34207 -0.22736,-0.11667 -2.6301,-1.35967 -5.42689,-2.82833 -1.32425,-0.69756 -7.47818,-4.01063 -8.33186,-4.64478 -3.06902,-1.60072 -1.56748,-0.8194 -2.42404,-1.32403 -0.83528,-0.47447 -0.61323,-0.34493 -1.48555,-0.78889 -2.001,-1.03755 0.1903,-0.44399 0.11891,-0.2867 0.22987,-0.2637 0.57101,-0.4135 0.4097,-0.22068 0.68733,-0.367816 1.8979,-1.017179 2.14908,-1.093458 1.10231,-0.852436 -0.17172,-0.928473 -0.43088,-1.471286 -0.74542,-1.446088 -1.80287,-3.497947 0.8354,-3.409344 0.18764,-0.761072 0.33572,-1.899971 0.99129,0.197896 0.60265,-0.367834 0.94366,-0.113902 0.79041,0.129434 0.63706,0.21562 1.8529,0.596086 1.20277,0.621629 0.88556,0.385541 h 0.55513 l 1.41686,-0.443993 1.66262,-0.621508 1.50937,-0.854852 0.2141,-0.367817 -0.0471,-0.900515 0.16654,-0.629102 0.32778,-0.253587 0.30144,-0.235967 0.22998,-0.116663 0.45457,0.25357 0.54984,0.215723 0.21147,0.02537 0.39117,-0.256349 0.82747,-0.773601 0.86439,-0.986805 1.30583,-1.36993 0.44136,-0.395671 0.0185,-0.08853 -0.18234,-0.187766 -0.11632,0.111658 -0.24311,-0.273813 0.29338,-0.238504 0.25645,0.246097 -0.1082,0.09889 0.1797,0.174995 0.35425,-0.312022 0.35414,-0.410962 0.53924,-0.669606 0.68468,-0.601264 0.48367,-0.479424 0.33044,-0.349989 0.36219,0.177514 0.12167,-0.08853 -0.27763,-0.233326 0.66351,-0.32985 0.0471,-0.06558 -0.26163,-0.606217 -0.1693,0.07818 -0.10579,-0.301771 0.64234,-0.266582 0.14548,0.261405 -0.1956,0.08853 0.29074,0.560535 0.2247,-0.154803 2.90771,-1.458411 1.62039,-0.768648 1.32955,-0.722984 1.21071,-0.608979 1.27144,-0.519928 2.17817,10.682157 12.13043,-2.31095 0.61323,3.396574 0.75601,3.850921 0.0471,3.85068 -0.52072,2.808201 -0.80089,4.122112 -1.60452,2.354077 -0.47321,1.585654 -0.18766,1.314016 -0.80363,2.58234 -0.1903,2.037 -0.14014,1.94819 -0.0954,1.99386 -0.61323,1.40284 -1.55688,1.08828 z" id="TR01" name="Kavakli"></path>

				<path d="m 758.99756,113.66408 0.37807,-1.35969 1.55687,-1.08828 0.61333,-1.40284 0.0954,-1.99386 0.14013,-1.94819 0.1903,-2.03699 0.80353,-2.58233 0.18765,-1.314139 0.4732,-1.585533 1.60453,-2.353974 0.80099,-4.122215 0.52072,-2.808322 -0.0471,-3.85068 -0.75602,-3.850697 -0.61322,-3.396919 -12.13042,2.311175 -2.17819,-10.68214 0.31456,-0.30467 0.66881,-1.067676 0.67399,-1.174812 0.25379,-0.588494 -0.0121,-0.656938 0.0897,-0.821716 0.50221,-1.014642 0.72437,-0.783974 1.03351,-0.644167 0.85644,-0.228391 1.21866,-0.116663 1.48555,-0.03918 0.18234,0.220797 0.0207,0.342396 -0.1479,0.20813 -0.25645,0.07369 -0.58941,0.05523 -1.09967,0.154803 -0.37276,0.08629 -0.3515,0.210546 -0.42304,0.596087 -0.40441,0.793638 -0.13479,0.685016 -0.0633,0.969082 0.0656,0.895683 0.1479,0.496923 0.20616,0.197879 0.25381,-0.213066 0.15066,0.116664 0.39659,0.350335 0.32778,0.07024 0.80088,-0.164813 0.79835,-0.281648 0.42028,-0.233327 0.45204,-0.426493 0.5419,-0.804217 0.35147,-0.628998 0.12426,-0.349989 -0.24312,-0.104756 0.22724,-0.479423 -0.49689,-0.223196 -0.44411,-0.164986 -0.0264,-0.210546 0.084,-0.164812 0.72434,-0.08163 0.69515,-0.200537 0.59207,-0.306603 0.51554,-0.43904 0.53396,-1.506854 0.28281,-0.152387 0.40704,0.03797 0.24057,0.446737 0.0875,0.590806 0.20352,0.989222 0.47057,2.529072 0.62117,3.455026 0.71896,-0.07594 h 0.12684 l 0.50221,-0.02537 -0.0368,-0.707694 -0.0713,-1.382234 -0.0771,-1.46635 -0.0954,-1.271094 -0.0392,-0.220676 -0.0368,-0.312023 0.18247,-0.449049 0.52866,-0.296715 0.44411,0.02537 0.47573,-0.03918 h 1.03365 l 1.03086,0.215481 0.7613,0.104756 1.20277,0.05747 2.23627,0.02537 0.81147,-0.152214 0.79305,-0.291779 0.8141,-0.6062 0.986,-0.664669 1.28997,-1.123712 0.87232,-1.377524 -0.7269,-1.001992 -0.19823,-0.710213 0.16378,-0.629118 0.415,-0.672229 0.60011,-0.306966 0.99911,-0.05523 0.87497,0.02537 0.80365,0.04487 0.15066,0.210649 0.12961,0.177532 0.29602,0.464219 0.15066,0.243457 0.27485,-0.05747 -0.0392,-0.134439 0.084,0.134439 0.33308,-0.05747 0.10579,-0.727799 0.0609,-0.299597 0.15342,-0.332386 1.17894,-1.143973 0.79835,-1.242791 0.59471,-1.22807 1.06261,-1.26835 1.94026,-0.892923 1.00981,-0.283823 0.0506,-0.05298 0.50219,-0.560657 0.38588,-0.918464 0.14549,-1.037301 0.57631,-2.224661 0.99381,0.448929 0.44146,1.47648 0.0713,0.09664 0.69791,0.943661 0.4441,1.367168 0.11891,1.49429 0.16913,1.293771 0.0841,0.804217 0.35955,1.922751 1.92171,4.010488 1.9085,2.876663 1.11024,1.36993 2.13319,3.371377 1.39306,2.719271 1.09967,1.828869 1.00441,1.461155 2.96846,4.576321 2.70155,3.371395 1.07586,2.340961 2.15171,4.886152 2.38435,3.056715 2.43186,2.085096 2.96328,3.176035 1.26614,1.466332 1.69437,2.605251 0.8591,4.28454 0.0368,3.95735 -0.58942,3.33065 0.43087,2.32106 0.75072,4.74602 0.32778,2.07257 0.0656,1.33679 -0.0264,1.98121 -0.0323,2.30587 -0.0345,2.33408 -0.44146,3.36874 -0.75072,5.19494 -1.65744,0.15981 -0.62117,0.0254 -0.90672,-0.1013 -3.33857,-0.61899 -3.30949,-0.4922 -2.04598,-0.39291 -0.98325,-0.18764 -3.35182,-0.64441 -1.99581,-0.41131 -6.24101,-3.0132 -4.64962,-2.39724 -5.72559,-3.16349 -0.58421,-0.56295 -2.94994,-2.73215 -1.23717,-0.9463 -0.38852,-0.27659 -1.50674,-0.55778 -2.81522,-0.18271 h -0.41234 l -3.9042,0.26636 -1.51202,-0.36276 -1.60451,-0.63405 -2.42404,-1.84164 -3.0742,-1.84176 -2.90507,-1.49673 -2.18346,-0.8676 -0.98072,-0.0633 -2.11995,-0.13944 -0.66616,-0.0633 z" id="TR02" name="Denizevler"></path>
			
            <path d="m 888.05237,208.08859 -0.80882,7.26521 -8.45092,10.86994 -5.80485,5.70992 -0.70852,4.34817 -3.28038,-1.8138 -3.53945,-2.64839 -2.12525,-1.17941 -1.17894,-0.47447 -1.13408,0.0254 -0.91985,-0.4312 -2.38434,-3.01114 -1.22645,-2.35663 -0.63706,-0.70009 -1.13143,-0.13685 -2.83372,-0.1139 -6.7247,-0.92835 -4.95634,-0.6344 -3.30418,-0.61128 -4.76868,-1.26833 -2.5482,-0.6343 -6.25425,-1.58541 -1.79216,-0.42868 -6.30177,0.18005 -7.79008,0.27152 -2.28642,-0.0656 -2.52713,-0.40855 -1.36924,-0.56559 -0.61324,0.42856 -1.13143,0.3172 -2.73848,0.43122 -2.45579,0.5885 -1.17894,0.70274 -2.40805,1.60831 -3.84607,2.01422 -2.78347,1.08828 -0.96748,-0.22573 -2.88136,1.13132 5.47708,-9.08156 4.22414,-6.00192 5.28675,-5.11915 8.37688,-7.20171 6.2066,-5.27641 1.77112,-2.31095 0.5656,-1.85682 0.34365,-1.52721 0.069,-0.3019 1.05204,-4.66998 0.98601,-4.56619 0.17971,-2.79543 -0.67664,-5.12927 0.53133,-2.73963 1.25292,-1.70724 0.88027,-1.1365 1.87145,-2.42507 1.03098,-1.56012 4.11575,-6.23019 1.67056,-4.18561 0.54455,-2.28299 0.12167,-1.23036 0.11389,-2.91463 v -0.0989 l -0.0737,-2.54174 1.14719,0.0782 0.86969,0.0656 0.55247,0.0254 2.55878,0.0254 5.31311,-2.7371 2.91037,-2.76254 0.55777,-6.19463 2.45303,0.49208 0.95688,1.08322 -0.79558,2.86906 -0.0264,3.21662 -0.2247,2.71168 -0.76923,1.74788 1.1313,0.78373 0.19571,1.5982 0.0897,0.46147 -0.084,3.26714 -0.11165,0.99475 -0.87234,1.77571 -1.92701,2.34902 -1.08644,1.63869 0.67938,1.2328 0.85381,0.90821 0.99647,0.82953 1.5861,0.52763 4.09197,0.90305 3.46538,0.55812 3.75886,0.9386 -0.30398,2.58235 0.0121,4.30732 1.43275,1.90757 -0.0402,2.52643 -1.08909,2.48595 -0.43088,2.98595 -0.8248,3.98013 -0.70839,4.16788 v 2.7624 l 1.32173,2.35422 0.80353,2.40217 0.89615,4.89086 1.27408,-0.18017 1.74731,0.13444 3.82227,1.08804 3.7774,2.12859 5.00385,1.99363 1.74465,1.53974 1.79482,1.31402 4.20034,1.90251 4.90882,0.72322 3.39945,0.45376 z"
 id="TR03" name="Karakopru"></path>
            
            <path d="m 910.44168,180.33935 -2.17552,1.8391 -2.05909,1.81127 -4.20298,5.12157 7.4226,2.50629 6.44443,2.33626 9.8624,0.756 1.51743,0.11667 0.81677,0.0633 0.35148,11.12867 0.33584,7.02936 0.91719,3.84816 -0.34366,4.1856 -1.35083,1.97373 -1.36924,1.49419 -2.36041,0.54269 -1.60452,-0.31696 0.0483,-2.21971 -2.07763,-1.26845 -2.64333,-2.26527 -4.67352,-2.39977 -2.50067,-1.35968 -3.6345,-0.99694 -4.24798,-0.67732 -2.36065,-0.13685 -4.34288,-2.26537 -5.52217,-2.17403 -2.63538,-0.9233 -0.85634,-0.29925 -3.39945,-0.45412 -4.90882,-0.72298 -4.20021,-1.90251 -1.79494,-1.31414 -1.74465,-1.53975 -5.00385,-1.99385 -3.77742,-2.12836 -3.82227,-1.08816 -1.7473,-0.13444 -1.2741,0.18007 -0.89613,-4.89087 -0.80352,-2.40219 -1.32173,-2.35407 v -2.76254 l 0.70848,-4.16776 0.8247,-3.98013 27.42505,-0.92594 6.18279,-0.37289 0.34353,-0.038 12.49791,-1.49661 12.40807,-1.30146 -0.34896,6.3876 z"
 id="TR04" name="Yazlik Yeni"></path>
            
            <path d="m 740.73197,220.653 0.80087,-2.03722 1.65216,-1.53987 0.19029,-0.56801 -0.0713,-0.70033 -0.66085,-0.61139 -0.52074,-0.88498 v -0.27152 l -0.14013,-1.29124 0.35423,-2.76264 0.23264,-2.06219 0.0264,-3.53131 0.3066,-1.29123 0.84852,-0.92847 1.30053,-1.11095 0.44675,-0.95125 -0.1189,-1.13155 -0.56572,-1.04249 -0.16377,-2.21969 0.44675,-1.90251 0.756,-2.05966 1.29791,-1.51697 0.28281,-1.67689 1.62833,-1.90251 0.52072,-0.74818 0.092,-0.67732 -0.44675,-1.45116 0.49439,-2.24259 0.47309,-1.65111 0.35425,-1.65388 0.63704,-1.33691 0.87233,-1.26834 0.40177,-1.24557 -0.35426,-0.72574 -1.15512,-0.58827 -1.08645,-0.88279 -0.37795,-0.97404 -0.37805,-2.92244 0.23528,-2.91969 0.96747,-1.6083 2.14908,-2.26526 3.65842,-3.60207 1.39306,-2.44556 1.22658,-1.65387 2.09877,-0.45159 1.11025,-0.31708 0.41236,-0.93607 0.56571,-1.22266 0.37001,-1.15167 0.0121,-0.0254 0.8247,-1.25567 1.95613,-1.64376 0.67144,-0.56583 1.57542,-1.78319 0.33571,-0.56066 0.38865,-0.61633 0.68721,-0.85495 1.40365,-1.66159 0.45204,-1.26823 0.45203,-1.8849 -0.0264,-0.67225 -0.42294,-0.92847 -0.66086,-0.52257 -0.81422,-0.40339 -1.31367,-0.70515 -0.0449,-0.0254 -0.64498,-0.68995 -0.78777,-1.30159 -0.5366,-2.8104 -0.55514,-1.56252 -0.17171,-0.13703 -0.63176,-1.24302 -0.67939,-1.24557 -0.0737,-0.13702 -0.29339,-0.61645 -0.3913,-0.81953 -0.33032,-0.53511 -0.40186,-0.65189 -1.19218,-1.43585 -2.39482,-2.84857 -0.94364,-2.28816 0.0242,-1.15456 0.23517,-1.19976 0.7507,0.0702 0.66615,0.0633 2.11996,0.13944 0.9807,0.0633 2.18346,0.8675 2.90509,1.4966 3.0742,1.84199 2.42404,1.84129 1.60451,0.63428 1.51202,0.36266 3.90419,-0.26624 h 0.41247 l 2.8151,0.18247 1.50672,0.55824 0.38864,0.27647 1.23705,0.9463 2.95006,2.73192 0.58411,0.5632 5.72559,3.16324 4.64972,2.39724 6.24102,3.01366 1.9957,0.41098 3.35182,0.64416 0.98335,0.18777 2.04587,0.39313 3.3096,0.49232 3.33857,0.61864 0.90662,0.10131 0.62117,-0.0254 1.65744,-0.15981 0.34102,2.6661 0.0737,2.54174 v 0.0989 l -0.1139,2.91495 -0.12167,1.23014 -0.54456,2.28334 -1.67056,4.18561 -4.11574,6.23009 -1.03099,1.56021 -1.87144,2.42497 -0.88027,1.13649 -1.25293,1.70725 -0.53131,2.73974 0.67663,5.12916 -0.17971,2.79519 -0.98601,4.56631 -1.05204,4.6702 -0.069,0.30191 -0.34366,1.52698 -0.56571,1.85695 -1.771,2.31093 -6.20661,5.27618 -8.37687,7.20171 -5.28676,5.11915 -4.22414,6.00192 -5.47707,9.08179 -1.34543,2.10558 -2.83904,2.57209 -5.24707,-1.25568 -7.67894,0.17764 -2.97387,-0.22574 -13.8301,-5.76088 z"
 id="TR05" name="Ciftlik"></path>
            
            <path d="m 873.93936,292.75447 -4.44355,-1.07573 -1.27674,-3.03392 -0.65809,-5.7532 0.37529,-1.67678 -0.37529,-3.48804 -0.33044,-2.037 -0.61599,-2.17656 0.47322,-2.30829 -0.23528,-3.03647 0.092,-2.49101 0.66086,-2.26537 2.59581,-4.89077 -0.092,-5.02778 3.68214,0.49967 1.2742,-4.93896 -0.23793,-3.25967 -2.5483,-9.51276 0.70851,-4.34795 5.80485,-5.71014 8.45092,-10.86994 0.80883,-7.26521 2.6354,0.92342 5.52205,2.17391 4.343,2.26526 2.36063,0.13703 4.24785,0.6772 3.63463,0.99694 2.50067,1.3598 4.67341,2.39977 2.64334,2.26515 2.07773,1.26857 -0.0483,2.21971 -4.63132,6.50655 -7.12391,6.66141 -5.06198,4.81725 -1.52789,2.8564 -0.77189,3.1201 -1.76306,-0.25611 -2.6752,1.66159 -2.59569,3.17074 -1.58082,0.65706 -2.19394,3.14808 2.33672,2.62559 0.49968,2.15872 -3.81445,2.93258 -4.36682,-2.38205 -0.24587,5.72029 -5.38984,5.79381 -2.75435,0.45411 -2.4267,-1.30389 -6.54764,5.01514 -0.56029,6.25816 5.06725,1.4713 0.17453,4.52544 -2.05391,0.19284 z"
 id="TR06" name="Yazlik Merkez"></path>
            
            <path  d="m 776.07638,229.52123 2.83904,-2.57197 1.34542,-2.10581 2.88137,-1.13143 0.96748,0.22584 2.78347,-1.08793 3.84607,-2.01457 2.40805,-1.60831 1.17893,-0.70264 2.4558,-0.58849 2.73848,-0.43098 1.13142,-0.31708 0.61324,-0.42893 1.36924,0.56561 2.52713,0.40832 2.28642,0.0656 7.79008,-0.27141 6.30178,-0.18005 1.79215,0.42868 6.25425,1.58541 2.5482,0.63418 4.76869,1.26833 3.30418,0.6114 4.95634,0.63427 6.7247,0.92848 2.83372,0.1139 1.13143,0.13703 0.63706,0.7001 1.22645,2.35661 2.38434,3.01114 0.91985,0.43122 1.13408,-0.0254 1.17894,0.47437 2.12525,1.17963 3.53945,2.64827 3.28038,1.8137 2.5483,9.51274 0.23793,3.25967 -1.2742,4.9391 -3.68214,-0.49979 0.092,5.02789 -2.59581,4.89064 -0.66086,2.26539 -0.092,2.49112 0.23528,3.03646 -0.47321,2.30831 0.61599,2.17654 0.33043,2.03712 0.37529,3.48782 -0.37529,1.67689 0.65809,5.75331 1.27684,3.0338 4.44345,1.07563 1.69172,2.81821 2.96331,5.05574 5.43483,2.65347 -3.96251,6.37987 v 3.21653 l -2.26537,2.71685 1.36924,1.99385 0.52084,2.30854 -1.98258,3.4879 1.17894,11.77805 -4.72107,0.4083 -14.67861,5.70511 -6.89129,-0.63164 -11.65723,-6.93029 -0.85127,1.22279 -1.83969,3.17094 -1.51202,2.12824 -0.99129,2.08256 -0.94366,2.35663 -1.36936,2.17425 -1.41411,3.98509 -3.4946,2.21969 -0.66085,7.51879 -14.72625,1.67677 -22.37343,-10.14694 -13.8301,6.25058 -21.61754,2.58223 -2.82844,-5.19255 -1.92437,-3.53372 -1.76041,-3.2317 -0.5182,-3.07972 0.18776,-3.21664 2.26539,-5.07347 1.83969,-5.07345 1.03894,-5.75067 0.0954,-12.04955 0.28281,-19.75092 0.66085,-4.12222 0.33044,-2.67104 0.94366,-2.35397 1.41687,-2.03966 0.89603,-2.71937 0.85116,-2.67117 2.35797,-4.21346 0.33032,-4.75637 1.13407,-7.51891 0.56571,-3.84816 0.48898,-4.23887 1.78171,-4.85015 7.15292,-11.44069 0.99129,-3.52866 z"
 id="TR07" name="Hisareyn Merkez"></path>
            
            <path   d="m 576.07359,55.854529 1.97718,-0.875095 2.03551,-1.48913 0.27751,-0.205473 0.2141,0.109243 1.64951,1.440808 0.75865,2.889416 0.22207,1.1871 0.17971,0.966217 0.11045,0.916047 0.70308,5.502034 1.03364,2.514024 0.1586,0.459163 0.10579,0.428685 0.0668,0.309158 0.46264,1.671821 0.79835,3.845848 -0.0772,0.52992 -0.26703,0.0944 -9.60595,0.548231 -0.40189,0.05298 -0.33572,0.233327 -0.67398,4.071477 -1.28996,7.838629 -0.38337,2.33361 -0.16654,0.08163 -4.92724,0.509901 -2.51654,0.261285 -3.35977,0.312022 -1.57806,-0.806633 -2.30496,-1.516622 -0.75335,-0.510246 -1.41422,-0.953567 -2.20994,-0.563176 -1.83979,-0.06334 -1.98776,0.235863 -1.96407,-2.082559 -0.39382,-0.98967 -1.7235,-0.425821 2.0751,-1.804017 4.79768,-6.131152 0.31986,-0.413602 2.04861,-3.061547 1.05471,-2.07519 1.61509,-4.383275 0.85116,-2.412651 1.11819,-1.765583 0.87497,-0.773498 3.79846,-3.140709 1.08909,-0.567904 1.12867,-0.378293 2.98181,-0.383004 0.71897,-0.07369 z" id="TR08" name="Yuzbasilar"></path>
            
            <path        d="m 713.11132,101.972 -0.47319,-0.15204 -2.25481,-0.72553 -3.00287,-1.04777 -2.26803,-0.862447 -2.23362,-0.79155 -2.36053,-0.819403 -2.57729,-0.931011 -3.43637,-1.1618 -0.70574,1.925409 -0.56042,2.20704 0.62116,0.755892 0.11891,3.14817 0.0713,2.10546 -0.68468,3.07961 0.58953,0.18271 -0.63704,2.83086 -0.0954,2.67118 -3.44433,-0.11166 h -2.87872 l -2.57465,-0.11391 -3.58697,-0.0909 h -0.75336 -0.75602 l -7.38821,-0.20295 -0.45998,-0.0254 -3.71653,-0.13944 -2.33682,-0.0449 -2.64334,-0.0909 -2.87861,-0.22574 -6.18291,-0.72552 -1.53573,-0.17499 -1.03625,-0.11925 1.79228,-4.57634 2.94993,-7.17891 -7.31421,-3.576871 -9.01654,8.470271 -3.8699,3.73655 -3.20905,-3.26219 -8.07289,-1.90263 -3.76152,-0.65947 -0.36737,-0.0656 -9.32315,-1.58288 -4.23208,4.09425 0.25645,2.82073 -2.46901,2.03447 -2.86804,-0.8852 -0.39646,0.37794 -0.26969,0.3501 -7.98027,-4.71577 -1.60451,-0.83977 -1.98259,-0.75071 -2.19658,-0.58608 -2.33682,-0.36023 -2.07498,-0.091 h -0.62129 l -1.35864,0.11667 -1.04676,0.13444 -1.25026,0.22827 -0.23,0.0437 -1.32437,0.24104 -3.0505,0.50979 -1.40879,0.23597 -1.31115,0.25116 -1.7817,0.33733 -0.34366,0.0575 -2.53496,0.41858 -0.70572,0.0426 -0.75602,0.0449 -1.95347,0.0575 h -0.40706 l -0.73218,-0.0575 -0.25381,-1.66665 0.3119,-5.139375 -0.0242,-0.565713 v -0.101303 l 0.90408,-5.99435 3.35965,-0.312126 2.51654,-0.261284 4.92724,-0.509797 0.16654,-0.08163 0.38335,-2.333834 1.28997,-7.838405 0.6741,-4.071477 0.33559,-0.23343 0.40189,-0.05177 9.60595,-0.548007 0.26705,-0.0944 0.0771,-0.530162 -0.79835,-3.845727 -0.46261,-1.671598 -0.0656,-0.309502 -0.10579,-0.428789 -0.1586,-0.459181 -1.03352,-2.513902 -0.70321,-5.502155 -0.11045,-0.915702 -0.17971,-0.966545 -0.22205,-1.187117 -0.75866,-2.889296 3.50243,-0.837248 -0.0288,-0.700083 4.64444,-0.882809 1.65997,-0.273934 2.7042,-0.443873 9.02183,-2.91727 1.36922,-1.202529 0.44676,-0.134266 1.03892,0.418555 1.2741,-0.172406 1.19217,-0.174995 2.48743,-0.248634 1.51985,-0.25357 1.22657,-0.44905 0.81676,-0.312022 0.68731,-0.68997 0.42294,-1.065397 0.42558,-0.520153 2.84168,-1.235422 2.93671,-1.585411 1.29791,-0.02537 1.19217,0.499667 1.42745,-0.454107 2.06715,-0.192822 3.00817,-0.294195 1.5463,-0.281527 1.37982,0.101303 0.33044,0.327313 0.88555,-0.134439 3.15093,-1.019836 2.03009,-1.065381 1.22647,-0.735651 h 0.38865 l 6.28854,2.534146 -0.28016,0.756016 -4.34046,-1.648938 -0.99395,2.156181 4.36693,1.768138 -0.25909,0.743227 -5.00121,-1.768 -2.47157,0.951134 3.46804,2.131002 -0.42294,0.451466 -3.68744,-2.450497 -2.56405,0.842184 3.57905,2.130881 -0.35161,0.438919 -3.78522,-2.328777 -5.21277,1.955783 0.99657,3.701123 4.22944,-0.245976 0.0242,0.527504 -4.07343,0.192839 0.49693,2.039639 4.21884,-0.258971 0.0121,0.515078 -4.13162,0.238504 0.20352,1.057683 -2.36317,2.465787 -2.04069,1.202425 -5.02503,0.738171 -2.84422,1.133843 -3.1668,1.869597 0.48379,3.449969 2.05645,1.664004 1.02039,0.979333 1.03616,-0.104756 7.08423,0.113902 4.27179,-0.02537 -0.48379,4.314934 7.06834,0.81685 6.51601,0.677199 4.38798,-2.003967 -4.6365,-9.454311 5.46383,-2.128362 0.2828,0.428686 0.89614,-0.294299 0.62646,0.30707 0.39912,0.72288 3.88314,0.06782 0.7666,-0.113901 1.59393,-0.65454 0.62393,0.882809 1.06262,-0.545348 1.8688,-0.875216 0.64498,0.956328 1.78954,-0.842184 0.61862,-0.291659 0.58941,-0.02537 0.72954,-0.02537 2.9527,-0.07593 0.83794,0.565713 0.60011,-0.793966 1.41675,1.088281 0.47321,0.385541 3.33595,2.577394 0.5022,0.32469 3.19064,2.425076 0.45457,0.357687 3.32271,2.503772 0.48379,0.34999 1.64157,1.235318 -2.24962,2.569801 1.92184,1.64628 1.66262,-2.110517 1.14454,0.859908 0.5366,0.385644 1.17378,0.849778 2.54818,0.875216 0.2775,0.06782 6.81201,1.8619 3.13243,1.02995 0.28544,0.162397 -0.18766,0.568129 h 0.0668 l 1.38248,0.669726 0.67937,0.334906 0.83264,0.375428 0.28808,0.0944 2.47421,1.240392 0.55514,-0.357704 0.4969,-0.367714 0.45998,-0.113901 0.48115,0.04487 0.93308,0.101304 0.70837,0.177635 1.07321,0.514871 1.22921,0.553046 0.48369,0.05298 0.35159,0.03918 0.6397,0.395654 0.86703,0.263821 0.5472,0.134439 -0.33574,1.899971 -0.18764,0.761072 -0.83528,3.409344 1.80276,3.498171 0.74542,1.445865 0.43087,1.471285 0.17172,0.928474 -1.10219,0.852418 -2.14919,1.093355 -1.8979,1.017282 -0.68721,0.367835 -0.40983,0.22066 -0.57089,0.4135 -0.22997,0.2637 -0.11891,0.28672 z" id="TR09" name="Merkez"></path>
            
            <path  d="m 505.68595,83.19281 0.29602,0.357583 0.18237,0.466877 0.053,0.5809 0.49161,2.034134 0.84058,3.711581 0.46263,0.547869 0.1082,4.035701 0.0633,0.964146 0.2194,3.769343 0.52338,4.013476 0.69791,4.25889 -0.37013,0.11166 -0.99648,0.26139 -4.62856,1.22037 -7.80065,1.60026 -5.40828,0.55824 -0.81422,0.0885 -0.61852,0.0254 -0.94895,0.0609 -0.6107,-0.0506 -4.24785,-0.0449 -5.099,-0.54547 -10.92514,-0.58849 -12.55602,-0.74577 -6.77496,-0.47689 -3.95183,-0.61358 -3.17199,-0.48495 0.61058,-2.15608 0.0449,-0.16239 0.34366,-1.21264 0.0794,-0.31227 0.10355,-0.22837 1.74201,0.1548 1.63353,0.44929 1.6786,0.46148 2.45833,1.31895 h 0.61851 l 0.76395,-0.2156 7.74775,-2.62803 1.48026,-0.25116 0.17443,-5.375116 0.10579,-0.24104 0.1296,-0.152215 0.24852,-0.142032 6.29912,-1.559767 h 0.28809 l 0.0323,0.124257 -0.1903,0.24092 -6.20133,1.529841 -0.19822,0.126846 -0.10355,0.185125 -0.15342,5.169971 1.28467,-0.27647 0.88028,-0.18775 1.48026,-0.31707 0.4151,-0.0885 0.35679,1.83898 3.3968,-0.72552 -1.04687,-5.29943 -0.0207,-0.552701 0.27496,-0.05522 0.20089,0.423957 1.05468,5.380194 5.89736,-1.94817 5.53529,-1.32667 2.88125,-0.801574 0.82998,-0.520031 2.60641,-2.265389 2.02479,-2.252722 3.43111,-4.208401 2.90771,-2.643319 2.0301,-1.372346 2.49802,-1.691962 3.85137,-1.354622 z"
 id="TR10" name="Degirmendere Yali"></path>
            
            <path d="m 547.83974,102.64966 -0.21411,-0.0656 -1.17629,-0.34503 -0.18502,-0.0552 -0.21146,-0.0609 -0.11631,-0.0368 -0.16395,-0.0254 -0.1001,-0.0254 -0.0771,-0.0254 -0.78764,-0.22574 -0.28027,-0.0816 -1.13927,-0.25117 -0.29867,-0.0506 -0.74541,-0.12426 -0.29349,-0.0483 -1.80012,-0.36771 -2.15435,-0.20813 h -0.0587 l -2.33672,0.038 -2.26539,0.0863 -3.15082,0.32203 -4.35369,1.083 -0.43616,0.13444 -1.50937,0.46424 -1.36396,0.52221 -5.55899,2.14884 -2.37641,0.90062 -4.33516,1.31621 -0.7269,0.25391 -0.69791,-4.25912 -0.52337,-4.013006 -0.21939,-3.769706 -0.0633,-0.964025 -0.10821,-4.035926 -0.46251,-0.547989 -0.84058,-3.711236 -0.49173,-2.034479 -0.053,-0.5809 -0.18236,-0.466653 -0.29603,-0.357687 1.31897,0.456644 4.18711,0.535218 1.82919,-0.202952 3.48932,-0.740933 0.65292,0.177515 1.1022,0.296732 0.68468,0.880375 0.6001,0.768321 2.14643,0.804217 h 1.67585 l 3.66108,-0.727937 0.17172,-0.339756 2.48479,-0.489882 0.30396,0.284289 4.12108,0.27371 3.78534,0.629446 0.27485,-0.07024 0.90673,0.06092 0.53661,-0.301892 4.18961,-0.233568 0.95436,-0.474592 1.88998,-0.06334 1.72347,0.426028 0.39395,0.989566 1.96394,2.08268 1.98789,-0.235863 1.83969,0.06334 2.20992,0.563176 1.41421,0.95355 0.75336,0.510039 2.30496,1.516725 1.57818,0.806633 -0.90409,5.994349 v 0.101304 l 0.0242,0.565834 -0.3119,5.139381 0.25381,1.66664 -1.00982,-0.0392 -1.73671,-0.1548 -1.0785,-0.12167 -2.58523,-0.56066 -1.6732,-0.40314 -0.91731,-0.29706 -4.2161,-1.4027 z" id="TR11" name="Degirmendere Merkez"></path>
            
            <path d="m 710.61596,183.9185 0.0713,1.90262 0.49691,5.02791 0.51808,4.27914 0.77983,3.75944 1.22127,5.01538 0.69261,-0.29972 0.34089,0.72841 0.46793,0.70262 0.42822,0.67707 1.18688,1.32437 0.11891,0.17258 0.21411,0.30191 0.18235,0.50472 0.29074,1.20243 0.2591,3.87104 0.16654,4.30457 -0.44928,4.75639 -4.93252,4.6197 1.65202,4.68779 0.80365,2.80833 2.36053,5.26077 -2.4795,3.18625 -1.84245,2.40217 -0.51807,1.04008 -0.75601,2.26527 -1.36659,1.72246 -2.26802,1.3117 -1.98258,-0.0437 -1.22659,-1.7679 -1.3216,-1.53987 -1.79216,-0.67984 -1.1816,0.63406 -0.5182,1.17962 -0.33042,2.17393 -0.56561,1.08574 -1.18158,1.26845 -1.41421,0.2284 -1.51202,-0.59091 -2.45303,1.31411 -0.75601,1.13385 -1.93496,3.44235 -4.43826,3.17085 -2.07498,1.35715 -0.9913,0.3172 -1.13405,0.99682 -1.17894,1.81128 -1.84246,2.12835 -1.69701,2.03943 -0.23782,1.22277 0.61323,1.58553 -0.18765,0.99682 -0.49438,1.83404 -1.4882,0.77108 -1.65215,-0.33986 -1.44058,-0.7712 -1.32171,-0.20283 -1.13133,0.13686 -3.56326,0.56571 -4.62594,8.51584 -8.21302,4.43928 0.75338,-4.80204 -11.18402,-9.6039 14.58347,-21.44817 -4.72106,-4.77663 -1.557,-1.60832 0.80363,-3.05925 8.07024,-8.87858 9.15656,-18.59177 6.98645,-4.62188 2.07772,-1.6969 -0.28291,-1.81393 -0.47308,-5.88781 -0.58953,-3.75946 0.14013,-1.8796 -0.14013,-1.31414 -0.61324,-2.08266 -1.20541,-1.60819 -6.04015,-8.0186 -2.19656,-3.71377 -0.72954,-2.01674 -0.4494,-2.26275 0.51809,-2.37951 1.34553,-3.59953 2.05391,-4.84773 1.11015,-2.89943 0.31719,-2.63814 -0.0471,-1.57278 0.0609,-1.14408 0.092,-0.97415 0.70848,1.91276 0.56825,0.90557 2.17023,1.58553 1.2741,0.81677 1.69968,1.35728 1.17893,0.90557 1.22923,0.86232 0.89613,0.13444 1.74719,-0.27129 1.03627,0.27129 0.99129,0.13703 h 1.03882 l 0.70836,-0.45411 1.83981,-1.04008 1.74731,0.13461 2.07761,0.54306 1.22658,0.4082 0.70837,0.99679 0.33044,1.26834 0.23527,2.31107 0.42558,2.53666 0.94366,-1.67687 1.46451,-2.19671 13.9226,6.04763 -0.9913,3.80501 -0.33042,1.42595 -0.092,1.13362 0.23529,0.95124 0.37805,0.63163 0.39913,1.01984 z" id="TR12" name="Sirinkoy"></path>
            
            <path d="m 717.48608,239.52619 -2.36054,-5.26099 -0.80353,-2.80833 -1.65213,-4.68779 4.93251,-4.61948 0.4494,-4.75637 -0.16654,-4.30481 -0.25899,-3.87104 -0.29085,-1.20243 -0.18236,-0.50472 -0.2141,-0.30191 -0.11891,-0.17258 -1.18688,-1.32412 -0.42823,-0.67732 -0.46779,-0.70262 -0.34102,-0.72806 -0.69263,0.29937 -1.22115,-5.01514 -0.77983,-3.75943 -0.51808,-4.27939 -0.49703,-5.02791 -0.0713,-1.90262 5.3582,-0.36252 3.32801,-0.33998 1.67586,-0.52005 2.05391,-0.90569 1.28204,-1.32413 1.09967,-0.78408 3.42049,-2.42231 2.27597,-1.33944 2.61158,-1.60833 0.84586,-0.54303 0.4547,-0.47449 0.3172,-0.52751 0.33307,-0.76844 0.14549,-0.70779 0.47575,-0.0828 0.55513,-0.0254 0.86704,0.0495 h 0.24851 l 0.45467,-2.35893 11.0677,2.32614 0.37807,0.97414 1.08644,0.88281 1.15512,0.58825 0.35425,0.72564 -0.40189,1.24555 -0.87221,1.26846 -0.63704,1.33679 -0.35425,1.65389 -0.47321,1.65122 -0.49427,2.24248 0.44676,1.45127 -0.092,0.67697 -0.52074,0.74831 -1.62833,1.9025 -0.28291,1.67712 -1.29791,1.51697 -0.75589,2.05955 -0.44676,1.90251 0.16378,2.21969 0.56571,1.0426 0.11891,1.13132 -0.44674,0.95126 -1.30055,1.11116 -0.8485,0.92848 -0.30662,1.29113 -0.0264,3.53106 -0.23263,2.06244 -0.35426,2.76252 0.14014,1.29111 v 0.27152 l 0.52072,0.88522 0.66086,0.61138 0.0713,0.70022 -0.19042,0.56813 -1.65203,1.53975 -0.80101,2.03712 -0.37794,1.42814 -1.27408,1.3345 -1.67598,1.65375 0.49438,0.74842 1.44057,2.39975 0.56571,1.69955 -0.18764,0.86003 -0.33044,0.72552 -2.90243,1.31401 -1.06262,-0.0254 -0.63704,-0.54535 -0.56837,-0.27152 -1.10761,-0.13444 -0.73218,0.67996 -0.2353,1.01718 -0.25897,0.99693 -0.9226,0.47701 -2.12262,0.38554 -1.86613,0.0656 -2.26538,1.11106 -3.55799,0.36528 z" id="TR13" name="Ipek Yolu"></path>
            
            <path d="m 650.94186,152.32087 0.67398,-2.69119 0.0471,-1.72234 v -2.4911 l -0.66073,-1.53975 -0.47321,-3.26233 0.0471,-3.53372 0.0471,-1.17698 -3.68226,-4.25657 0.56571,-2.21961 -0.092,-1.90261 0.14014,-1.45094 0.33042,-1.63121 0.0954,-0.94894 1.03881,-2.40207 0.89615,-1.40294 1.13394,-1.40514 1.91114,-1.44873 0.0713,-0.47678 -0.0954,-0.56559 -0.85116,-3.34596 1.53583,0.1751 6.18293,0.72517 2.87861,0.22586 2.64332,0.0909 2.3367,0.0449 3.71665,0.13944 0.45987,0.0254 7.38822,0.20295 h 0.75612 l -1.34555,5.32197 5.07266,-0.86001 1.15778,-0.0909 0.80099,0.15981 0.47309,0.20305 0.35425,0.70274 -2.38435,2.37927 -6.63218,8.49295 -2.24157,2.08268 -1.72349,1.13166 -2.92625,1.15661 -4.57825,0.97414 0.14272,0.58861 0.18776,0.65696 0.58941,0.86001 0.96748,0.79144 1.01499,2.53679 1.25304,3.35345 0.65821,5.16479 0.39117,4.47233 -0.12943,1.13131 -0.26174,1.08828 -0.092,0.97415 -0.0609,1.14398 0.0471,1.57276 -0.3172,2.63816 -1.11025,2.89953 -2.05391,4.84761 -1.34541,3.59965 -0.51808,2.37951 0.4494,2.26251 0.72954,2.01686 2.19657,3.71355 6.04013,8.01881 1.20541,1.60832 0.61322,2.08244 0.14014,1.31389 -0.14014,1.87985 -5.31047,-0.51981 -2.47685,-0.47723 -3.11653,-1.1082 -9.36814,-3.12526 -8.47463,-2.99114 -2.02746,-0.51968 -3.58712,-0.50014 -3.68224,0.56582 1.46185,-2.26251 0.2828,-0.67983 0.23794,-1.17734 -0.1429,-1.40513 -0.11891,-1.19977 -0.42293,-1.29123 -0.19029,-0.97416 0.16654,-0.81445 0.66075,-0.74806 0.70849,-0.83747 0.21146,-1.15662 0.80353,-4.37061 0.801,-1.63109 0.94366,-2.85389 0.85116,-2.0828 1.13143,-1.72221 0.19028,-0.86024 -0.14289,-0.72528 -0.42558,-0.7689 0.0471,-1.4507 0.56571,-0.81457 0.80353,-0.90558 0.51808,-0.8599 0.33042,-0.77131 0.42558,-1.40272 0.33044,-0.99693 1.32173,-0.99692 0.51808,-0.54283 z" id="TR14" name="Yeni"></path>
            
            <path d="m 670.82533,156.36715 0.26162,-1.08818 0.12961,-1.13142 -0.39118,-4.47221 -0.65822,-5.16469 -1.25302,-3.35355 -1.01501,-2.53679 -0.96747,-0.79144 -0.58952,-0.86002 -0.18764,-0.65695 -0.1429,-0.5885 4.57838,-0.97415 2.92624,-1.15671 1.72338,-1.13167 2.24169,-2.08256 6.63218,-8.49306 2.38435,-2.37917 -0.35425,-0.70284 -0.47321,-0.20296 -0.80087,-0.1598 -1.15778,0.091 -5.07266,0.85989 1.34543,-5.32197 h 0.75337 l 3.58708,0.092 2.57465,0.1139 h 2.87862 l 3.44432,0.11166 4.67354,0.33986 3.44684,0.56825 3.75095,0.90557 2.90243,0.8828 8.96902,3.01103 7.73981,2.71937 5.17838,1.82152 -1.26098,4.79182 -3.64783,5.26364 -0.24311,1.47887 -0.0897,1.00959 -0.092,1.25075 -0.14548,1.94058 -0.1586,3.04394 -0.5472,3.54891 -0.62116,2.55199 -0.25899,0.83733 -4.88501,4.50788 -1.69966,0.92835 -1.50938,0.70274 -3.68224,1.53975 -1.88732,0.22573 -1.41687,0.0254 -1.34542,-0.43122 -2.69097,-1.10852 -3.13771,-1.63112 -1.62835,1.87963 -0.73218,1.29123 -0.40176,1.87961 0.54453,2.10822 0.87222,2.62549 0.0471,0.47689 -0.16654,0.51991 -2.02743,1.92541 -1.46451,2.19681 -0.94366,1.67689 -0.42558,-2.53679 -0.23529,-2.31107 -0.33042,-1.26833 -0.70838,-0.99692 -1.22647,-0.40842 -2.07773,-0.54283 -1.7473,-0.13427 -1.8398,1.03996 -0.70838,0.45411 h -1.0388 l -0.9913,-0.13703 -1.03628,-0.27141 -1.74717,0.27141 -0.89615,-0.13427 -1.2291,-0.86242 -1.17906,-0.9057 -1.69968,-1.35703 -1.27408,-0.81689 -2.17024,-1.58553 -0.56824,-0.90557 z" id="TR15" name="Sehitler"></path>
            
            <path d="m 749.48675,171.21223 -11.06781,-2.32636 -0.45469,2.35903 h -0.24839 l -0.86703,-0.0483 -0.55515,0.0254 -0.47585,0.0828 -0.14531,0.7078 -0.33308,0.76832 -0.31719,0.52774 -0.4547,0.47425 -0.84586,0.54317 -2.61168,1.60831 -2.27597,1.33934 -3.42049,2.42231 -1.09968,0.78408 -1.28203,1.32424 -2.05381,0.90558 -1.67596,0.52003 -3.32801,0.33998 -5.3581,0.36276 -0.0242,-1.08828 -0.39909,-1.01982 -0.37807,-0.63164 -0.23517,-0.95113 0.092,-1.13407 0.33033,-1.4255 0.99129,-3.80524 -13.9226,-6.0475 2.02744,-1.92541 0.16654,-0.51993 -0.0471,-0.47699 -0.87221,-2.62537 -0.54454,-2.10812 0.40177,-1.8796 0.73218,-1.29136 1.62835,-1.87973 3.1377,1.63122 2.69097,1.10854 1.34543,0.43133 1.41687,-0.0254 1.88732,-0.22584 3.68224,-1.53975 1.50937,-0.70263 1.69966,-0.92858 4.88502,-4.50765 0.25899,-0.83734 0.62116,-2.55197 0.54719,-3.54891 0.1586,-3.04394 0.14549,-1.94072 0.092,-1.25061 0.0897,-1.00959 0.24311,-1.479 3.64783,-5.26353 1.26099,-4.79192 1.12336,0.39819 3.75359,1.26581 7.24554,2.47087 3.06626,1.15408 2.10155,1.11118 6.84367,4.17558 3.32801,2.0293 3.36756,1.99881 0.30409,0.18017 1.65204,0.98175 0.58159,0.34492 1.40628,0.83207 1.35072,0.80421 2.65921,1.49902 -0.33561,0.56076 -1.57552,1.78331 -0.67146,0.56583 -1.956,1.64364 -0.82481,1.25567 -0.0121,0.0254 -0.37001,1.15167 -0.56571,1.22279 -0.41234,0.93594 -1.11027,0.31708 -2.09877,0.45159 -1.22656,1.65387 -1.39306,2.44556 -3.65844,3.60207 -2.14907,2.26526 -0.96748,1.6083 -0.23516,2.91981 z"  id="TR16" name="Piyalepasa"></path>
            
            <path d="m 776.07638,229.52123 -2.18069,4.49003 -0.99129,3.52855 -7.15305,11.44059 -1.78158,4.85049 -0.48898,4.23887 -0.56572,3.84816 -1.13394,7.51891 -0.33044,4.75625 -2.35787,4.21356 -0.85116,2.67117 -0.89613,2.7195 -1.41687,2.03931 -0.94366,2.3542 -0.33044,2.67093 -0.66086,4.12221 -0.2828,19.75117 -0.0954,12.04943 -1.03892,5.75077 -1.83969,5.07335 -2.26539,5.07347 -0.18777,3.21664 0.51821,3.0796 1.7604,3.23181 -11.4828,0.0311 -5.66472,-3.98771 -2.21786,0.95126 -1.2741,-3.03404 -7.17672,0.7254 -6.18281,-2.35662 -11.94013,-7.88144 0.56571,-1.90261 -6.18292,-1.13155 -8.35566,5.1624 -4.72106,0.45388 -10.00519,2.35651 -24.78159,12.41012 -6.51323,-9.82996 -5.19163,-19.16014 -10.14796,-16.57731 1.03893,-4.30503 5.61719,-3.03359 1.65203,-0.36276 2.35789,-1.31436 1.51201,-2.67082 4.71843,-5.02779 5.05148,0.72517 1.74731,-2.58236 8.2129,-4.43928 4.62592,-8.51584 3.56327,-0.56572 1.13142,-0.13685 1.32161,0.20295 1.44069,0.77121 1.65214,0.33985 1.48822,-0.77108 0.49427,-1.83416 0.18764,-0.99682 -0.61322,-1.58553 0.23791,-1.22265 1.69704,-2.03954 1.84245,-2.12836 1.17894,-1.81116 1.13395,-0.99692 0.99129,-0.3172 2.07509,-1.35705 4.43816,-3.17085 1.93495,-3.44235 0.756,-1.13395 2.45315,-1.31401 1.51191,0.59078 1.4142,-0.22837 1.18159,-1.26845 0.56572,-1.08552 0.33043,-2.17405 0.51808,-1.1795 1.18158,-0.63418 1.79218,0.67974 1.32173,1.53985 1.22657,1.76814 1.98246,0.0426 2.26803,-1.3117 1.3666,-1.72245 0.75601,-2.26539 0.51807,-1.03996 1.84245,-2.4023 2.47949,-3.18625 3.66108,-2.58454 3.55801,-0.36552 2.26539,-1.11094 1.86613,-0.0656 2.12271,-0.38566 0.92249,-0.47667 0.25911,-0.99716 0.23527,-1.01717 0.7322,-0.67984 1.10749,0.13444 0.56836,0.27105 0.63705,0.54547 1.06262,0.0254 2.90243,-1.31402 0.33044,-0.7253 0.18764,-0.86025 -0.56559,-1.69931 -1.44069,-2.39999 -0.49426,-0.74807 1.67584,-1.654 1.2741,-1.3346 0.37806,-1.42804 5.61443,1.8038 13.8302,5.7609 2.97377,0.22573 7.67895,-0.17753 z" id="TR17" name="Ihsaniye Merkez"></path>
            
            <path d="m 676.60901,199.31883 0.58942,3.75946 0.47321,5.88792 0.28279,1.8138 -2.07762,1.69714 -6.98644,4.62154 -9.15666,18.59211 -8.07025,8.87849 -0.80363,3.05935 1.557,1.60831 4.72105,4.77653 -14.58345,21.44805 -18.22073,-18.97731 -3.53959,-33.70286 0.28292,-2.8082 1.17894,-2.53679 0.89867,-2.44533 2.02758,-1.3598 2.97375,-1.94554 2.07775,-1.99385 2.21774,-2.99091 1.98248,-0.9944 0.99129,-1.90251 0.5207,-3.21662 1.98259,-1.81116 2.3129,-1.22519 0.75336,-0.45159 1.89008,-1.40524 2.64069,-0.0426 0.30927,-5.07337 2.02745,0.51993 8.47463,2.99079 9.36815,3.12526 3.11653,1.10854 2.47685,0.47689 z"
 id="TR18" name="Duzagac"></path>
            
            <path d="m 645.83482,190.57751 -0.30927,5.07347 -2.64069,0.0426 -1.89008,1.40512 -0.75336,0.45171 -2.3129,1.22519 -1.98259,1.81104 -0.5207,3.21686 -0.99129,1.90239 -1.98249,0.99452 -2.21774,2.99079 -2.07775,1.99361 -2.97375,1.9459 -2.02758,1.35967 -0.89867,2.44534 -1.17894,2.53679 -0.28292,2.80832 -3.02127,2.21959 -2.59581,0.7712 -0.70848,4.03083 -16.143,-3.39667 -5.47444,3.17094 -1.41687,-1.31401 -2.92623,-0.95136 -6.37321,-0.13427 -0.80088,-5.75341 0.47057,-1.90261 0.23781,-0.95126 1.41421,-1.44817 0.28821,-0.20295 13.11897,-9.17553 -3.02139,-2.85376 -3.11655,1.08816 -2.35787,0.13444 0.94376,-1.44863 2.40541,-3.53362 -6.37045,-2.62803 -4.06032,-1.40272 -1.93495,-0.40842 -7.50452,-0.3171 0.47057,-4.07664 0.52073,-5.88735 2.12259,-0.99691 2.40817,-0.95126 1.98246,-0.22573 3.06902,0.27129 2.92625,0.54259 11.13914,0.81721 0.56571,-2.76552 0.5656,-1.94553 1.7473,-2.40205 0.84852,-1.3598 0.28545,-1.08552 -0.23782,-1.44875 -0.66087,-1.63121 -0.33042,-0.99682 0.42558,-1.53987 1.46438,-0.90557 1.93495,-0.18259 2.54828,0.0909 1.55689,2.71708 4.87179,0.66684 7.54675,2.70178 1.56758,1.24291 2.00628,0.37035 0.1693,-4.09184 2.52966,-3.06396 4.34312,-1.81151 4.90871,-2.39976 2.78609,-2.31093 1.88732,-2.35639 1.88744,-7.15637 0.85116,-4.2589 8.38743,2.37663 -0.50761,2.01917 -0.51808,0.54318 -1.32161,0.99692 -0.33043,0.99705 -0.42558,1.40272 -0.33042,0.77108 -0.51808,0.86002 -0.80365,0.90569 -0.56571,0.81422 -0.0471,1.45105 0.42558,0.76854 0.1429,0.72564 -0.1903,0.85977 -1.13131,1.72256 -0.85128,2.08258 -0.94366,2.85386 -0.80088,1.63112 -0.80363,4.37048 -0.21148,1.15697 -0.70837,0.83713 -0.66087,0.7484 -0.16654,0.81423 0.19041,0.97415 0.42293,1.29112 0.11891,1.19999 0.14272,1.40537 -0.23791,1.17699 -0.28281,0.67984 -1.46174,2.26273 3.68214,-0.56571 z" id="TR19" name="Yunus Emre"></path>
            
            <path d="m 652.08641,112.44637 0.85116,3.34596 0.0954,0.56559 -0.0713,0.47678 -1.91114,1.44873 -1.13406,1.40514 -0.89603,1.40294 -1.03893,2.40207 -0.0954,0.94894 -0.33044,1.63121 -0.14013,1.45094 0.092,1.90261 -0.56571,2.21961 3.68224,4.25657 -0.0471,1.17698 -0.0471,3.53372 0.47309,3.26233 0.66085,1.53975 v 2.4911 l -0.0471,1.72234 -0.67408,2.69119 -8.38733,-2.37665 -0.85127,4.25924 -1.88733,7.15605 -1.88732,2.35661 -2.78619,2.31069 -4.90873,2.4 -4.34299,1.81127 -2.52978,3.06431 -0.16913,4.09149 -2.00628,-0.37011 -1.56758,-1.24315 -7.54687,-2.70165 -4.87166,-0.66697 -1.557,-2.71685 -2.54818,-0.091 -1.36924,-5.39055 1.0838,-2.491 -1.55701,-0.18028 4.10782,-6.20731 0.70839,-2.35397 0.80099,-3.07984 2.87861,-5.21026 1.41687,-12.00376 2.26539,-19.38587 -7.03144,-0.95126 -3.68223,-0.99703 -1.83705,-0.83195 0.26957,-0.3501 0.39646,-0.37772 2.86816,0.88533 2.46889,-2.03448 -0.25644,-2.82085 4.23207,-4.09459 9.32316,1.58322 0.36737,0.0656 3.76152,0.65937 8.07289,1.90251 3.20905,3.26219 3.86989,-3.73655 9.01655,-8.470272 7.31421,3.576862 -2.94994,7.17904 -1.79228,4.57632 z" id="TR20" name="Donanma"></path>
            
            <path d="m 555.65619,169.92088 4.72104,-6.07027 1.03882,-1.53985 -0.0954,-9.01299 -1.50927,-0.0449 -0.28556,-9.24123 -3.72712,-7.42779 2.45304,-11.82116 -1.93495,-14.22347 5.56956,-4.67999 0.73221,0.0575 h 0.40715 l 1.95337,-0.0575 0.75602,-0.0449 0.70584,-0.0437 2.53494,-0.41857 0.34368,-0.0575 1.78158,-0.3371 1.31113,-0.25117 1.40892,-0.23597 3.0505,-0.51014 1.32426,-0.24104 0.22998,-0.0437 1.2504,-0.22837 1.04675,-0.13427 1.35866,-0.11666 h 0.62116 l 2.07509,0.0909 2.33671,0.3601 2.19669,0.58608 1.98246,0.75084 1.60453,0.83976 7.98039,4.71567 1.83715,0.83205 3.68224,0.99704 7.03131,0.95125 -2.26537,19.38552 -1.41677,12.00377 -2.87872,5.21048 -0.80088,3.07961 -0.70849,2.35408 -4.1077,6.20731 1.55688,0.18017 -1.08379,2.49113 1.36924,5.39042 -1.93483,0.18269 -1.46451,0.90559 -0.42558,1.53975 0.33042,0.99704 0.66088,1.63109 0.23791,1.4484 -0.28554,1.08575 -0.84852,1.3597 -1.74731,2.40239 -0.56559,1.94553 -0.56572,2.76506 -11.13914,-0.81675 -2.92625,-0.54293 -3.06889,-0.27141 -1.98259,0.22573 -2.40816,0.95138 -2.1226,0.99681 -2.69095,0.4082 -5.0515,0.45147 -0.47045,-3.89637 -0.75602,-1.85694 -2.45303,-3.5764 z"  id="TR21" name="Topcular"></path>
            
            <path d="m 554.97151,169.2209 -1.53309,-1.56517 -4.48577,-3.80512 -5.37928,-3.8026 -4.43826,-3.30787 -4.01004,-2.89944 -1.46438,-2.89955 -3.02139,-3.62241 -5.61719,-7.5188 -8.91877,-1.90261 -2.69084,-0.49979 -1.36935,-1.22255 v -1.58555 l 0.14273,-1.71978 0.37528,-2.99091 0.0471,-11.32403 -0.23517,-4.30238 -2.45832,-5.65161 -0.29085,-0.66742 0.72703,-0.25369 4.33504,-1.31643 2.3764,-0.90063 5.55899,-2.14861 1.36406,-0.52255 1.50938,-0.46424 0.43605,-0.13443 4.3537,-1.08311 3.15094,-0.32227 2.26527,-0.0863 2.33682,-0.0392 h 0.0587 l 2.15425,0.20801 1.80022,0.36793 0.29338,0.0483 0.74542,0.12426 0.29867,0.0506 1.13936,0.25105 0.28017,0.0816 0.78775,0.22573 0.0771,0.0254 0.1001,0.0254 0.16378,0.0254 0.11631,0.0357 0.21146,0.0609 0.18501,0.0552 1.1763,0.34482 0.21411,0.0656 0.82999,0.22839 4.21622,1.40292 0.9172,0.29684 1.67332,0.40337 2.58523,0.56053 1.07848,0.12167 1.73673,0.1548 1.00969,0.0392 -5.56956,4.67999 1.93495,14.22336 -2.45304,11.82117 3.72712,7.42779 0.28556,9.24134 1.50926,0.0449 0.0954,9.01298 -1.03882,1.53987 -4.72104,6.07025 z" id="TR22" name="Ataturk"></path>
            
            <path d="m 354.20213,346.48739 3.58708,-4.93689 -0.37541,-12.41209 -3.30417,-3.48804 0.61322,-1.44817 1.36924,-1.17985 1.79228,-0.0885 1.98247,-1.04282 -0.14014,-1.22267 1.46174,-0.4082 0.9913,-0.58848 1.18159,-1.35969 1.83981,-1.35716 1.50938,-0.54535 1.2291,-1.44851 3.82238,-4.2566 0.94366,-2.17656 0.0471,-1.26833 -0.70836,-1.71992 -0.47057,-1.31402 -0.33042,-2.71683 -0.42558,-1.53975 0.28278,-1.94819 0.66088,-1.49419 0.756,-2.49354 0.0471,-1.99131 v -1.63111 l 0.47057,-1.22278 1.18158,-2.80818 0.75337,-2.491 1.88996,-1.6769 9.20156,-5.88757 3.21179,-1.8138 2.87861,-1.31136 6.32558,-2.03966 5.52193,-1.40536 -16.33074,-12.09269 -5.47708,-13.18075 0.85116,-4.53052 4.95632,-0.85991 2.92625,-1.0884 -2.07773,-5.75331 2.21786,-3.39657 0.66086,0.63415 0.85116,1.58543 1.27409,-1.26833 6.60839,-14.13223 -7.22161,-13.76924 2.6882,-12.18656 -6.51324,-2.0369 0.61335,-1.31401 4.06021,-0.13703 8.77861,1.85948 7.12921,2.62515 1.5569,-5.02767 1.17894,-2.03677 2.26539,-0.86279 6.51586,1.08852 0.70585,0.72552 0.47309,0.85989 0.0954,1.08828 8.02262,-2.03953 21.0043,-14.85751 0.75601,-6.75023 4.39063,-1.40284 4.20034,0.90558 -1.08645,3.26218 2.69097,1.71992 5.9,-7.11034 1.55688,-3.07995 1.51202,-4.21323 1.41422,-1.31402 3.68227,-2.98823 5.80484,-1.8137 2.83362,-3.89394 5.9,-1.17953 0.28292,-2.0829 0.89603,-0.27142 1.08644,-1.17709 0.756,-3.35355 7.78743,-4.93654 0.2828,-1.26834 v -3.12517 l 2.45568,1.81116 1.17894,1.26845 0.75601,2.94511 5.19162,4.57367 1.36924,1.22266 2.69095,0.49979 8.91876,1.90251 5.6172,7.51891 3.02139,3.62253 1.46438,2.89967 4.01004,2.89942 4.43814,3.30765 5.37927,3.80284 4.48579,3.8051 1.53319,1.56484 -1.67586,1.69736 -4.57839,6.29614 -1.69968,-2.17392 -1.83981,-0.99704 -2.83096,-1.26835 1.17893,4.71071 -5.19161,-1.94841 -9.48712,4.21357 1.08379,2.12823 -5.80484,8.87848 1.41687,4.61947 -3.02138,0.90809 -2.12526,-0.0449 -2.02745,-1.314 -1.93496,2.44532 -2.07772,-0.40832 -1.83969,1.0426 -2.0302,1.81116 -0.61324,1.26846 -1.88996,2.31093 -1.55701,2.62803 -0.94366,0.723 -2.87861,1.45092 -1.27674,2.17402 -0.14013,0.90559 0.80088,1.72232 0.9913,2.30854 -1.50938,1.31401 -0.23517,2.03954 -0.42558,0.85989 -0.33042,1.99387 -1.65216,3.714 -0.23528,3.98506 1.79228,-0.0461 1.4644,0.49979 0.18764,2.3541 2.26539,3.21662 -3.82227,8.9673 0.56559,3.53372 -1.46174,2.21948 -0.61322,0.45411 -2.50333,1.40284 -2.21774,1.54239 -2.36053,1.40272 -2.97387,2.44533 -2.21774,5.1648 1.13394,14.94646 -7.74231,7.33861 -3.68226,10.3271 -9.43949,7.15868 -2.73592,7.65328 1.36658,12.27529 -3.8989,4.37832 -6.10618,6.85677 -2.92625,0.0885 -0.89879,0.99681 -4.60472,3.50069 -5.59074,4.24647 -29.07443,-19.07108 -4.34311,-5.25351 -7.55203,9.14999 -14.25303,5.25354 -8.73375,6.9304 -13.30937,6.16152 z" id="TR23" name="Yukari"></path>
            
            <path d="m 512.04315,136.17499 -5.19149,-4.57378 -0.75602,-2.94511 -1.17894,-1.26845 -2.45579,-1.81117 v 3.12528 l -0.28281,1.26835 -7.78732,4.93653 -0.756,3.35355 -1.08645,1.17699 -0.89613,0.27141 -0.2828,2.08256 -5.90001,1.17975 -2.83374,3.89384 -5.80484,1.81358 -3.68214,2.98836 -1.41423,1.31401 -1.51201,4.21356 -1.55701,3.0795 -5.9,7.11046 -2.69097,-1.71992 1.08646,-3.26218 -4.20035,-0.90557 -4.39062,1.40272 -0.75602,6.75033 -21.00417,14.85752 -8.02262,2.03954 -0.0954,-1.08829 -0.47321,-0.8599 -0.70574,-0.7254 -6.51597,-1.08841 -2.26539,0.86255 -1.17893,2.03702 -1.55691,5.02779 -7.12921,-2.62562 3.5871,-1.13372 2.26803,-17.62028 -3.92019,-3.98519 2.69097,-8.96982 2.45567,1.3597 2.50067,-3.03393 -1.36924,-8.96971 2.45569,-6.43329 3.1139,0.27142 -1.13144,-6.1592 1.74732,-1.53975 3.30152,1.85683 2.59845,-3.0795 6.27543,0.36276 4.62591,-7.38452 2.75699,-4.23877 3.40993,-1.84428 1.72348,-1.40272 1.18689,-2.59754 0.16136,-1.38523 0.13202,-0.97645 0.21148,-1.36222 0.053,-0.24368 0.0392,-0.1674 0.0794,-0.36552 0.053,-0.25357 3.95193,0.61379 6.77485,0.47666 12.556,0.74613 10.92517,0.58825 5.09899,0.54535 4.24796,0.0449 0.61058,0.0506 0.94896,-0.0609 0.61852,-0.0254 0.81423,-0.0885 5.40839,-0.55834 7.80054,-1.60038 4.62856,-1.22025 0.99647,-0.26128 0.37013,-0.11166 0.29074,0.66719 2.45831,5.65185 0.23527,4.30238 -0.0471,11.32369 -0.37531,2.99089 -0.1429,1.7199 z"
 id="TR24" name="Cumhuriyet"></path>
            
            <path d="m 646.18641,291.72442 -1.79219,-2.21961 -7.457,-0.58858 -10.95149,-4.3935 -12.60352,2.17402 -7.55217,8.83279 1.88998,2.39988 -10.76372,5.84191 -8.82624,3.98771 -31.71787,5.57072 -14.96418,-3.12516 -2.50054,0.90545 -1.2741,0.81688 -0.99129,0.81433 -0.0954,0.90559 0.47321,1.08828 v 1.08563 l -0.70848,0.36288 -0.56572,-0.0461 -0.80352,-0.40578 -3.8224,-0.81677 -1.55954,-0.76866 -2.78345,0.22573 -5.28678,-2.31093 -1.88732,3.30786 -4.10782,4.98211 -3.06628,2.08268 -3.44707,0.86243 -3.77464,0.22573 -4.15545,0.54293 -1.83969,0.31708 -2.31302,-0.13702 -1.22657,0.36276 -1.22911,1.4966 -0.94366,0.9945 -1.36934,0.86255 -1.74455,0.67973 -2.31302,0.54294 -1.84245,0.0461 -1.1313,0.63427 -1.22657,1.35958 -1.27674,1.53975 -0.80089,1.04008 -1.36922,0.18269 -1.41687,-0.18269 -1.46186,-0.5885 -1.18158,-0.49726 -2.21776,0.81446 -2.40552,-3.1254 -1.98246,-1.04261 -1.98259,-0.49713 -1.93759,-1.3597 -1.74465,-0.63418 -2.43716,-0.42373 3.899,-4.37832 -1.36658,-12.27516 2.73582,-7.6534 9.43949,-7.15857 3.68224,-10.32709 7.74245,-7.33862 -1.13408,-14.94645 2.21788,-5.1648 2.97375,-2.44534 2.36054,-1.40272 2.21786,-1.54251 29.73793,-4.89064 8.87376,1.99386 1.08379,-1.54239 -0.99129,-3.30535 9.11167,-5.66194 -1.51201,-2.31095 4.86384,-13.40659 2.12261,-1.76836 1.46451,-0.40579 4.48312,1.08575 2.8786,-0.54294 0.23794,-1.17698 -0.6635,-1.08829 -3.72713,-2.71683 8.82612,-7.61014 1.17896,-7.79032 1.84245,1.94577 5.56956,-6.25058 7.50464,0.31708 1.93495,0.40845 4.06019,1.40284 6.37045,2.6279 -2.4054,3.53373 -0.94364,1.4484 2.35787,-0.13427 3.11653,-1.08816 3.02128,2.85376 -13.11896,9.1753 -0.28821,0.20296 -1.41421,1.44852 -0.23782,0.95125 -0.47057,1.90261 0.80099,5.75331 6.37311,0.13444 2.92623,0.95126 1.41687,1.31401 5.47444,-3.17082 16.1431,3.39655 0.70838,-4.03083 2.59581,-0.77108 3.02139,-2.21971 3.53946,33.70298 18.22075,18.9773 11.18411,9.604 -0.75335,4.80193 -1.74731,2.58235 z"
 id="TR25" name="Sarayli"></path>
            
            <path  d="m 571.84681,196.37373 -5.56957,6.25068 -1.84245,-1.94566 -1.17894,7.78998 -8.82614,7.61024 3.72713,2.71708 0.6635,1.08806 -0.23794,1.17721 -2.87859,0.54293 -4.48325,-1.08574 -1.46438,0.40578 -2.12262,1.76824 -4.86384,13.40659 1.51202,2.31107 -9.11167,5.66195 0.9913,3.30535 -1.0838,1.54216 -8.87387,-1.99363 -29.73794,4.89064 2.5033,-1.40272 0.61325,-0.45411 1.46184,-2.21958 -0.56571,-3.53373 3.82227,-8.96729 -2.26537,-3.21664 -0.18766,-2.35432 -1.46438,-0.49944 -1.79229,0.0461 0.23528,-3.98541 1.65215,-3.71389 0.33043,-1.99386 0.42558,-0.86001 0.23528,-2.03953 1.50937,-1.31402 -0.9913,-2.30806 -0.80098,-1.72279 0.14013,-0.90559 1.27674,-2.17402 2.87861,-1.4507 0.94376,-0.72288 1.55691,-2.62813 1.88995,-2.31095 0.61335,-1.26834 2.03008,-1.81128 1.83982,-1.04248 2.07762,0.4082 1.93495,-2.4453 2.02755,1.314 2.12527,0.0449 3.02138,-0.90809 -1.41687,-4.61937 5.80485,-8.8786 -1.08379,-2.12822 9.48699,-4.21357 5.1916,1.94818 -1.17891,-4.71071 2.83109,1.26835 1.83979,0.99704 1.69967,2.17392 4.57828,-6.29614 1.67585,-1.69702 0.68469,0.69998 5.75985,8.0187 2.45316,3.57673 0.75602,1.85684 0.47045,3.89624 5.05148,-0.45134 2.69097,-0.40833 -0.52073,5.8877 z"
 id="TR26" name="Orcun"></path>
            
            <path d="m 402.86664,188.08639 -8.77862,-1.85936 -4.0602,0.13703 -0.61336,1.31401 6.51324,2.037 -2.6882,12.18646 7.22161,13.76934 -6.60838,14.13211 -1.27409,1.26835 -0.85116,-1.58543 -0.66086,-0.63427 -2.21774,3.39679 2.0776,5.75321 -2.92624,1.08828 -4.95621,0.86001 -0.85127,4.53054 5.47708,13.18075 16.33074,12.09269 -5.52193,1.40536 -6.32558,2.03954 -2.87861,1.31148 -3.21167,1.8138 -9.20169,5.8877 -1.88995,1.67677 -0.75337,2.49111 -1.18158,2.80808 -0.47058,1.22277 v 1.63109 l -0.0471,1.99133 -0.75598,2.49354 -0.66089,1.49419 -0.28278,1.94807 0.42557,1.53985 0.33042,2.71685 0.47057,1.314 0.70837,1.72004 -0.0471,1.26823 -0.94366,2.17656 -3.82238,4.25659 -1.22911,1.44852 -1.50937,0.54535 -1.83981,1.35716 -1.18158,1.35968 -0.99131,0.58847 -1.46174,0.40822 0.14014,1.22265 -1.98259,1.04284 -1.79216,0.0885 -1.36924,1.17987 -0.61334,1.44816 3.30417,3.48805 0.37543,12.41219 -3.5871,4.93691 -14.48831,5.29906 -8.49847,6.52187 -7.55203,9.69546 -10.38325,-2.26525 -14.91655,2.53677 -25.10937,9.42142 11.32691,-125.8345 -3.86991,-3.44238 1.69968,-18.20854 -5.19162,-3.35099 7.83494,-2.35663 5.94765,-2.08532 3.49184,-0.18018 4.15545,-2.6279 6.04001,-4.07402 8.78138,-7.88419 9.06142,-6.61321 6.89127,-3.25967 3.86991,-3.26219 2.36053,-2.53678 3.39945,-4.89088 2.92613,-6.9303 4.43562,-6.43315 1.46438,-2.03701 0.47057,-1.99386 0.99129,-1.26833 1.93495,-2.94512 1.36924,-2.94256 2.07773,-1.67677 2.07762,-1.04262 1.697,-2.67105 4.34312,-5.21062 1.88732,-1.17699 2.07775,-1.76546 3.5871,-2.03965 1.46438,-1.67666 0.42294,-2.80832 0.37805,-2.17391 1.46438,-1.58555 0.56571,-1.76548 -0.2829,-1.90261 -0.37795,-2.26514 -1.50938,-0.72553 -3.06901,-0.18017 -0.5656,-0.86001 -0.66085,-2.21959 -0.0471,-1.58542 0.70045,-2.89691 0.0392,-0.88279 -0.0587,-0.46424 -0.0345,-1.11348 0.1586,-0.66225 0.24575,-0.59355 0.3172,-0.77108 0.96748,-2.97571 1.62569,0.0254 0.88819,0.0254 0.0207,-0.58331 0.0264,-0.63934 0.14272,-3.7239 v -1.36223 l 0.0242,-1.73511 -0.0121,-0.37287 0.0288,-0.5556 2.8073,0.0276 0.0288,0.49219 3.36758,0.0392 2.6408,0.0254 0.12408,-1.36223 -0.77707,-0.0506 0.0311,-0.40579 1.19747,0.11391 -0.17719,1.62362 3.95448,-0.19019 4.15546,0.11926 0.1797,0.48701 4.92459,2.80061 3.07961,1.06032 0.19559,0.0254 0.23781,-0.5733 0.4204,-0.54547 0.28281,-0.2156 0.35689,-0.13444 0.33561,-0.0333 h 0.34102 l 0.0737,0.069 0.053,0.0828 -0.0121,0.0989 -0.0288,0.0909 -0.23,0.0737 -0.38324,0.0333 -0.31455,0.0782 -0.33837,0.23332 -0.20882,0.33227 -0.21412,0.42121 0.0713,0.13945 0.1797,0.13185 1.19482,0.34239 0.43617,-0.0311 1.11819,-0.45664 2.14376,-1.13648 7.17146,-2.09777 3.12182,-0.51761 0.0737,0.28429 0.0633,0.24851 0.0345,0.13185 0.0552,0.20549 0.0155,0.0609 0.0449,0.13444 4.81091,14.36289 6.51588,0.5885 -3.25656,5.52759 -2.59846,3.0796 -3.30154,-1.85695 -1.74729,1.53987 1.13131,6.15909 -3.11389,-0.27141 -2.45569,6.43316 1.36935,8.96982 -2.50067,3.03393 -2.45567,-1.35968 -2.69097,8.96994 3.92007,3.98518 -2.26803,17.62005 z" id="TR27" name="Halidere Yali"></path>
            
            <path d="m 414.80676,109.10559 4.47253,-1.30642 5.0806,-0.75602 6.05327,-0.10699 2.5483,-0.48702 2.15169,-0.86531 1.91644,-1.04768 1.27408,-0.32213 3.57917,0.0254 -0.10354,0.22827 -0.0794,0.31214 -0.34367,1.21242 -0.0449,0.1624 -0.61059,2.15619 3.172,0.48448 -0.053,0.25382 -0.0794,0.36528 -0.0392,0.16723 -0.053,0.24356 -0.21147,1.36221 -0.13219,0.97669 -0.16118,1.385 -1.18689,2.59777 -1.72348,1.40272 -3.40993,1.84428 -2.7571,4.23888 -4.62592,7.3843 -6.27531,-0.36276 3.25656,-5.52747 -6.51588,-0.5885 -4.81091,-14.36301 -0.0449,-0.13444 -0.0155,-0.0609 -0.0552,-0.20561 -0.0345,-0.13185 -0.0633,-0.24864 z"
 id="TR28" name="Halidere Yeni"></path>
            
            <path d= "m 294.07069,133.6458 3.20903,-0.21814 5.84719,-0.20295 0.79559,-0.11667 9.68005,-2.6278 2.41874,-0.4846 20.03407,-1.98902 3.00551,-1.00187 0.53663,-0.53512 3.56593,-3.3486 0.084,-0.20561 v -0.34491 l -0.53396,-0.51498 v -0.24092 l 0.17707,-0.13961 0.18776,-0.0254 0.47575,0.55306 1.18424,-0.13202 1.34024,-1.10588 1.28468,-1.45588 2.39217,-3.41958 0.74554,-0.90327 1.98248,-1.9658 0.33835,-0.14444 0.35162,-0.11391 19.12745,-4.82483 0.96735,-0.23599 -0.0288,0.5556 0.0121,0.37277 -0.0242,1.73521 v 1.36224 l -0.14272,3.7239 -0.0264,0.63923 -0.0207,0.58342 -0.8882,-0.0254 -1.62569,-0.0254 -0.96748,2.97559 -0.3172,0.77132 -0.24587,0.59343 -0.1586,0.66213 0.0345,1.1137 0.0587,0.46424 -0.0392,0.88269 -0.70058,2.89703 0.0471,1.5853 0.66085,2.21971 0.56572,0.85989 3.06889,0.1803 1.5095,0.72529 0.37795,2.26536 0.28278,1.9025 -0.56558,1.76561 -1.4645,1.58553 -0.37793,2.17392 -0.42294,2.80808 -1.4645,1.6769 -3.587,2.03953 -2.07773,1.76559 -1.88732,1.17698 -4.34312,5.21038 -1.697,2.67117 -2.07774,1.04262 -2.07761,1.67665 -1.36936,2.9428 -1.93495,2.94476 -0.99117,1.26845 -0.47057,1.99375 -1.46438,2.03712 -4.43562,6.43305 -2.92625,6.93029 -3.39933,4.89088 -2.36053,2.53667 -3.86991,3.26231 -6.89127,3.25966 -9.06154,6.61322 -8.78126,7.88419 -6.04003,4.074 -4.15543,2.62802 -3.49186,0.18007 -5.94763,2.08532 -7.83495,2.35674 5.19161,3.35089 -1.69978,18.20864 3.86991,3.44226 -11.32679,125.83451 -5.75723,-0.18017 -4.91145,-10.41846 -11.13916,-6.97585 -9.91268,0.72298 -13.97023,-5.52504 -5.64355,0.79904 -19.6138,12.63539 -12.6645,0.26382 -26.44156,-6.182 -19.4817,3.92432 -7.30892,-7.85623 -4.86385,-17.5846 4.47796,-5.91311 12.38424,0.16481 3.49183,-3.60217 1.11025,-2.42255 2.47685,-8.92427 4.15535,-2.71684 -4.24795,-13.31778 12.60099,6.56753 1.74731,-16.08017 10.66855,6.3418 -1.79481,-2.71684 3.11654,-1.85936 1.60452,1.35957 2.92624,-1.08576 1.50938,2.71686 4.48577,-1.81117 v 3.17097 l 1.88732,0.76844 -1.36924,-5.02769 0.99129,-3.71377 1.93495,-0.13685 -3.25666,-10.68976 1.50937,-2.08278 4.67354,1.08828 0.75601,-1.4966 1.2741,0.45399 7.26922,-12.36641 -0.0954,-4.75649 4.43826,-2.08256 0.66085,-5.39055 6.84366,-1.81127 -0.1903,-3.03647 -5.23913,-3.07959 1.98247,-1.53975 -1.50938,-3.94215 2.50067,-4.30216 -1.32171,-3.53372 6.89127,-3.30535 -2.45303,-6.6132 6.46573,-7.83611 13.12171,-4.07907 5.05138,-1.08573 h 3.11401 l 3.53935,-2.67371 2.40816,-2.62549 1.88744,-0.40832 3.39934,0.40832 1.41687,-1.67667 1.65204,-1.0426 -0.37794,-2.08268 1.46174,0.18005 1.41685,0.59103 0.756,-0.63669 11.044,-5.70509 6.13528,-8.15297 11.38768,-52.24127 -0.0449,-0.4059 -0.1322,-0.97402 z"
 id="TR29" name="Korfez"></path>
            
            <path d="m 153.0098,329.54674 -2.36053,-1.4736 2.87861,-3.80502 -0.80099,-7.63048 -6.25413,-9.01563 -1.65217,-3.89383 0.42558,-3.2622 1.32173,-2.44532 2.78347,-3.08248 1.25026,-1.3796 -3.77474,-0.36288 9.32325,-18.23132 2.26527,-8.47037 -15.52977,-21.65333 -4.43824,-10.64407 -6.23044,0.13686 -5.19151,-4.75627 -1.17894,-12.04955 5.23915,-23.32778 -1.53319,-3.14807 -0.40177,-0.67984 -1.98258,-0.69986 -0.35413,-0.52269 0.0242,-1.76548 -1.67598,-1.90251 -1.2979,-3.0596 -1.01499,-3.01079 -0.0954,-1.9025 -1.7923,-2.21971 -0.82734,-1.49431 -0.35424,-1.31401 -0.5419,-0.86001 -1.39305,-0.92836 -1.54896,-3.2217 4.9537,-0.43881 3.357,-0.62151 4.87707,-1.86452 0.72425,-1.13385 0.6107,-0.4769 -0.26703,-0.6596 0.45733,-0.14462 0.26691,0.76857 0.45734,0.29176 0.61058,0.62152 2.13331,-0.40073 4.00198,0.76601 5.14663,1.39018 0.42028,-1.13383 0.26705,0.22056 -0.23,0.95123 3.58446,0.87774 3.88843,0.32973 h 4.38268 l 6.78557,-2.1587 8.18909,-0.89293 3.60562,-1.41043 1.586,-0.7002 6.14057,-2.71422 4.03639,-2.40217 3.23813,-3.14818 4.15535,-3.21917 3.27786,-2.88931 4.87959,-3.03635 7.47289,-2.34155 2.6301,-0.4388 4.49636,0.98933 3.50782,0.65707 2.51642,-0.69514 1.94289,0.40337 2.55348,1.2811 1.372,0.95125 2.93672,1.20495 1.33231,1.46371 3.50769,1.20746 5.07002,0.32975 5.94765,-1.06033 2.9711,-0.76866 -0.34102,-1.75547 1.56231,-0.36772 0.0771,0.40339 -1.14465,0.32973 0.34366,1.35198 6.70895,-1.97349 2.89713,-1.68437 1.82921,-1.75547 -0.26703,-2.04713 4.84,-2.08521 0.30662,0.47436 -4.53604,2.0117 0.26703,1.53721 1.37188,0.6596 2.89713,-0.22078 3.35447,-0.58585 3.12448,-0.10925 2.95524,-0.39579 2.67244,-0.78119 3.19327,-2.93258 5.28402,-2.56199 2.18346,-0.6191 4.40123,-0.67211 0.069,0.50229 0.13219,0.97403 0.0449,0.40591 -11.38766,52.24139 -6.13527,8.15318 -11.044,5.70475 -0.75602,0.63716 -1.41685,-0.59138 -1.46175,-0.18017 0.37807,2.08268 -1.65216,1.04262 -1.41687,1.67677 -3.39934,-0.40844 -1.88744,0.40844 -2.40804,2.6255 -3.53947,2.67381 h -3.11389 l -5.0515,1.08562 -13.12171,4.07907 -6.46572,7.83601 2.45304,6.6133 -6.8913,3.30535 1.32173,3.5336 -2.50066,4.30239 1.50937,3.94204 -1.98248,1.53985 5.23914,3.0795 0.19029,3.03647 -6.84364,1.81127 -0.66088,5.39054 -4.43826,2.08256 0.0954,4.75639 -7.26922,12.36663 -1.2741,-0.45388 -0.756,1.49648 -4.67343,-1.08804 -1.50937,2.08268 3.25656,10.68939 -1.93496,0.1372 -0.99118,3.71367 1.36924,5.02756 -1.88743,-0.76844 v -3.17084 l -4.48579,1.81115 -1.50935,-2.71674 -2.92625,1.08564 -1.60453,-1.35969 -3.11653,1.85936 1.79492,2.71685 -10.66868,-6.34169 -1.7473,16.08019 -12.60087,-6.56755 4.24783,13.3179 -4.15535,2.71671 z"
 id="TR30" name="Ulasli Yavuz Sultan Selim"></path>
            
            <path d="m 153.0098,329.54674 -1.11025,2.42288 -3.49184,3.60182 -12.38423,-0.16481 -21.69417,-17.82793 -2.42922,-15.0148 6.15635,-16.45583 h -2.26539 l -1.95083,-7.86636 -5.46383,-5.12419 -17.015335,8.82001 -12.33925,0.091 -0.9463,5.61882 -7.74774,-0.98185 14.66008,-21.89438 3.25668,-12.45026 14.424935,-5.95362 5.03559,-7.10023 4.1527,-2.21717 5.99781,-10.15452 0.1797,-3.20663 -5.34487,-0.49691 1.78698,-6.19488 2.26009,2.5139 3.20905,-3.92927 -5.21809,-4.46472 1.08643,-5.09383 -0.15065,-1.89262 -12.15159,1.81403 -12.793955,10.22046 0.80882,-5.90035 -1.81333,-0.39326 -8.15217,6.93284 -1.88203,-3.85829 3.85139,-6.85678 -1.03882,-2.94281 -2.26549,-1.85671 -2.04057,0.99198 -2.84431,-4.45713 -4.5096,-2.63319 2.58523,-6.57249 4.91135,-5.31703 2.52182,-2.96293 0.18236,-0.2155 0.36484,-0.42605 0.30662,-0.36022 1.34806,0.40337 2.54818,0.0885 1.85568,-0.36035 2.07509,-0.87521 2.95524,-2.11293 2.23374,-2.3236 1.60187,-3.09998 0.5313,-1.17192 3.507735,-0.40338 0.42028,0.76866 -1.715555,0.43882 -1.8689,1.46369 0.26703,1.42816 0.83794,0.76601 2.326235,-0.0368 1.10485,-0.10924 -0.22734,-2.19671 0.60804,-0.0702 0.23,1.57278 3.31741,-0.55052 5.64089,-1.93761 -1.4882,-2.7425 0.49691,-0.22068 1.44863,2.70662 2.82052,-1.75537 1.71553,-1.53733 1.54897,3.2217 1.39305,0.92837 0.5419,0.86024 0.35424,1.31401 0.82734,1.49408 1.79218,2.21959 0.0954,1.90263 1.01511,3.01091 1.2979,3.05958 1.67586,1.90251 -0.0242,1.76525 0.35425,0.52292 1.98258,0.69975 0.40176,0.67996 1.53319,3.14794 -5.23926,23.32802 1.17894,12.04955 5.19163,4.75649 6.23044,-0.13703 4.43824,10.64407 15.52977,21.65356 -2.26537,8.47014 -9.32315,18.23132 3.77474,0.36276 -1.25038,1.37994 -2.78347,3.08214 -1.32161,2.44544 -0.42558,3.26208 1.65204,3.89407 6.25426,9.01539 0.80099,7.6306 -2.87872,3.80502 z"
 id="TR32" name="Ulasli Yali"></path>
            
            <path d="m 693.22257,114.38707 0.0954,-2.67117 0.63706,-2.83111 -0.58943,-0.18259 0.68457,-3.07949 -0.0713,-2.10581 -0.11891,-3.14816 -0.62116,-0.755652 0.56041,-2.207057 0.70573,-1.925409 3.43649,1.161575 2.57717,0.931235 2.36065,0.81918 2.23363,0.791549 2.26803,0.862449 3.00287,1.04777 2.2548,0.72575 0.47309,0.15204 2.00098,1.03754 1.48568,0.78889 0.61322,0.34504 0.83528,0.47437 2.42404,1.32449 1.56748,0.81906 3.06892,1.6006 8.33196,4.64478 7.47806,4.01085 1.32437,0.69734 5.42679,2.82843 2.63022,1.35957 0.22734,0.11666 2.59846,1.34208 1.30838,0.67985 1.69184,0.8828 0.92778,0.46677 0.23264,0.107 0.39118,0.0782 h 0.28821 l 0.26427,-0.038 0.22735,-0.0575 5.54573,-1.71222 0.39131,0.8193 0.29338,0.61633 0.0737,0.13703 0.67927,1.24555 0.63188,1.24303 0.17172,0.13686 0.55513,1.56275 0.5366,2.81074 0.78777,1.30134 0.64498,0.68996 0.0449,0.0254 1.31367,0.70539 0.81423,0.40304 0.66075,0.52267 0.42304,0.92847 0.0264,0.67226 -0.45203,1.88501 -0.45204,1.26835 -1.40365,1.66125 -0.68721,0.85495 -0.38864,0.61645 -2.6592,-1.49926 -1.35084,-0.80422 -1.40617,-0.83205 -0.58159,-0.34493 -1.65215,-0.98151 -0.30397,-0.18005 -3.36758,-1.99893 -3.328,-2.0294 -6.84379,-4.17536 -2.10142,-1.11118 -3.06638,-1.1542 -7.24542,-2.47076 -3.75359,-1.26614 -1.12349,-0.39821 -5.17825,-1.8214 -7.73981,-2.71937 -8.96902,-3.01103 -2.90243,-0.88279 -3.75095,-0.90558 -3.44697,-0.56802 z" id="TR33" name="Dumlupinar"></path>
            
            <path  d="m 355.2323,85.717753 -0.47319,-0.15204 -2.25481,-0.72553 -3.00287,-1.04777 -2.26803,-0.862447 -2.23362,-0.79155 -2.36053,-0.819403 -2.57729,-0.931011 -3.43637,-1.1618 -0.70574,1.925409 -0.56042,2.20704 0.62116,0.755892 0.11891,3.14817 0.0713,2.10546 -0.68468,3.07961 0.58953,0.18271 -0.63704,2.83086 -0.0954,2.67118 -3.44433,-0.11166 h -2.87872 l -2.57465,-0.11391 -3.58697,-0.0909 h -0.75336 -0.75602 l -7.38821,-0.20295 -0.45998,-0.0254 -3.71653,-0.13944 -2.33682,-0.0449 -2.64334,-0.0909 -2.87861,-0.22574 -6.18291,-0.72552 -1.53573,-0.17499 -1.03625,-0.11925 1.79228,-4.57634 2.94993,-7.17891 -7.31421,-3.576871 -9.01654,8.470271 -3.8699,3.73655 -3.20905,-3.26219 -8.07289,-1.90263 -3.76152,-0.65947 -0.36737,-0.0656 -9.32315,-1.58288 -4.23208,4.09425 0.25645,2.82073 -2.46901,2.03447 -2.86804,-0.8852 -0.39646,0.37794 -0.26969,0.3501 -7.98027,-4.71577 -1.60451,-0.83977 -1.98259,-0.75071 -2.19658,-0.58608 -2.33682,-0.36023 -2.07498,-0.091 h -0.62129 l -1.35864,0.11667 -1.04676,0.13444 -1.25026,0.22827 -0.23,0.0437 -1.32437,0.24104 -3.0505,0.50979 -1.40879,0.23597 -1.31115,0.25116 -1.7817,0.33733 -0.34366,0.0575 -2.53496,0.41858 -0.70572,0.0426 -0.75602,0.0449 -1.95347,0.0575 h -0.40706 l -0.73218,-0.0575 -0.25381,-1.66665 0.3119,-5.139375 -0.0242,-0.565713 v -0.101303 l 0.90408,-5.99435 3.35965,-0.312126 2.51654,-0.261284 4.92724,-0.509797 0.16654,-0.08163 0.38335,-2.333834 1.28997,-7.838405 0.6741,-4.071477 0.33559,-0.23343 0.40189,-0.05177 9.60595,-0.548007 0.26705,-0.0944 0.0771,-0.530162 -0.79835,-3.845727 -0.46261,-1.671598 -0.0656,-0.309502 -0.10579,-0.428789 -0.1586,-0.459181 -1.03352,-2.513902 -0.70321,-5.502155 -0.11045,-0.915702 -0.17971,-0.966545 -0.22205,-1.187117 -0.75866,-2.889296 3.50243,-0.837248 -0.0288,-0.700083 4.64444,-0.882809 1.65997,-0.273934 2.7042,-0.443873 9.02183,-2.91727 1.36922,-1.202529 0.44676,-0.134266 1.03892,0.418555 1.2741,-0.172406 1.19217,-0.174995 2.48743,-0.248634 1.51985,-0.25357 1.22657,-0.44905 0.81676,-0.312022 0.68731,-0.68997 0.42294,-1.065397 0.42558,-0.520153 2.84168,-1.235422 2.93671,-1.585411 1.29791,-0.02537 1.19217,0.499667 1.42745,-0.454107 2.06715,-0.192822 3.00817,-0.294195 1.5463,-0.281527 1.37982,0.101303 0.33044,0.327313 0.88555,-0.134439 3.15093,-1.019836 2.03009,-1.065381 1.22647,-0.735651 h 0.38865 l 6.28854,2.534146 -0.28016,0.756016 -4.34046,-1.648938 -0.99395,2.156181 4.36693,1.768138 -0.25909,0.743227 -5.00121,-1.768 -2.47157,0.951134 3.46804,2.131002 -0.42294,0.451466 -3.68744,-2.450497 -2.56405,0.842184 3.57905,2.130881 -0.35161,0.438919 -3.78522,-2.328777 -5.21277,1.955783 0.99657,3.701123 4.22944,-0.245976 0.0242,0.527504 -4.07343,0.192839 0.49693,2.039639 4.21884,-0.258971 0.0121,0.515078 -4.13162,0.238504 0.20352,1.057683 -2.36317,2.465787 -2.04069,1.202425 -5.02503,0.738171 -2.84422,1.133843 -3.1668,1.869597 0.48379,3.449969 2.05645,1.664004 1.02039,0.979333 1.03616,-0.104756 7.08423,0.113902 4.27179,-0.02537 -0.48379,4.314934 7.06834,0.81685 6.51601,0.677199 4.38798,-2.003967 -4.6365,-9.454311 5.46383,-2.128362 0.2828,0.428686 0.89614,-0.294299 0.62646,0.30707 0.39912,0.72288 3.88314,0.06782 0.7666,-0.113901 1.59393,-0.65454 0.62393,0.882809 1.06262,-0.545348 1.8688,-0.875216 0.64498,0.956328 1.78954,-0.842184 0.61862,-0.291659 0.58941,-0.02537 0.72954,-0.02537 2.9527,-0.07593 0.83794,0.565713 0.60011,-0.793966 1.41675,1.088281 0.47321,0.385541 3.33595,2.577394 0.5022,0.32469 3.19064,2.425076 0.45457,0.357687 3.32271,2.503772 0.48379,0.34999 1.64157,1.235318 -2.24962,2.569801 1.92184,1.64628 1.66262,-2.110517 1.14454,0.859908 0.5366,0.385644 1.17378,0.849778 2.54818,0.875216 0.2775,0.06782 6.81201,1.8619 3.13243,1.02995 0.28544,0.162397 -0.18766,0.568129 h 0.0668 l 1.38248,0.669726 0.67937,0.334906 0.83264,0.375428 0.28808,0.0944 2.47421,1.240392 0.55514,-0.357704 0.4969,-0.367714 0.45998,-0.113901 0.48115,0.04487 0.93308,0.101304 0.70837,0.177635 1.07321,0.514871 1.22921,0.553046 0.48369,0.05298 0.35159,0.03918 0.6397,0.395654 0.86703,0.263821 0.5472,0.134439 -0.33574,1.899971 -0.18764,0.761072 -0.83528,3.409344 1.80276,3.498171 0.74542,1.445865 0.43087,1.471285 0.17172,0.928474 -1.10219,0.852418 -2.14919,1.093355 -1.8979,1.017282 -0.68721,0.367835 -0.40983,0.22066 -0.57089,0.4135 -0.22997,0.2637 -0.11891,0.28672 z" id="TR34" name="Golcuk At Large"></path>
           
              </g>
            </svg>
          </svg>
        </div>
      </div>
      <!-- Output Box -->
      <div style="flex: 1; min-width: 300px; border: 1px solid var(--border-color); padding: 15px; overflow-y: auto;">
        <div id="results" class="results-section"></div>
      </div>
    </div>
  </div>
  
  <!-- Inputs Container (Main Box 2) -->
  <div class="container" id="inputContainer">
    <form id="swingometerForm">
      <div style="display: flex; flex-wrap: wrap; gap: 20px;">
        <!-- Parlamento Box -->
        <div style="flex: 1; min-width: 300px; border: 1px solid var(--border-color); padding: 15px;">
          <h2>Türkiye Oy Oranı</h2>
 <p>Hesaplanan Vekil Sayıları Gölcük'teki Nüfusu Sembolize eder</p>
          <table>
            <thead>
              <tr>
                <th>Parti</th>
                <th>Oy %</th>
                <th>İttifak ile Vekil<sup>*</sup></th>
              </tr>
            </thead>
            <tbody>
              <!-- Generated by JavaScript -->
            </tbody>
          </table>
        </div>
        
        
        
        <!-- 1. Tur Box -->
        <div style="flex: 1; min-width: 300px; border: 1px solid var(--border-color); padding: 15px;">
          <h2>Aday Parti Desteği (1. Tur)</h2>
          <p>
            Her aday için, her partinin oylarının yüzde kaçını aldığını girin (örneğin, 100, %100 anlamına gelir). Son satıra (<strong>Sandığa Gitmeyen</strong>) her parti için oy kullanmayan yüzdelik oranı girin.
          </p>
          <table id="presidentialTable">
            <thead>
              <tr id="presidentialTableHeader">
                <!-- Header built dynamically -->
              </tr>
            </thead>
            <tbody>
              <!-- Candidate rows and final "Sandığa Gitmeyen" row generated by JavaScript -->
            </tbody>
          </table>
          <div style="text-align: center; margin-bottom: 20px;">
            <button type="button" onclick="addCandidate()">Aday Ekle</button>
          </div>
        </div>
        <!-- 2. Tur Box -->
        <div style="flex: 1; min-width: 300px; border: 1px solid var(--border-color); padding: 15px;">
          <div id="secondRoundDiv">
            <h2>İkinci Tur Destek Girişi</h2>
            <p>
              Hiçbir aday ilk turda %50'ye ulaşamadı. Lütfen aşağıdaki en iyi iki aday için yeni parti destek yüzdelerini girin (yeni bir "Sandığa Gitmeyen" satırı ile birlikte). Bitirdiğinizde, tekrar "Tüm Sonuçları Hesapla" düğmesine tıklayın.
            </p>
            <table id="secondRoundTable">
              <thead>
                <tr id="secondRoundTableHeader">
                  <!-- Header built dynamically -->
                </tr>
              </thead>
              <tbody>
                <!-- Rows generated dynamically -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      
      
      <!-- Common Controls -->
      <div style="text-align: center; margin: 20px 0;">
        <label for="threshold">Baraj (%)</label>
        <input type="number" id="threshold" value="7" step="0.1" style="width: 80px;">
      </div>
      <div style="text-align: center; margin-top: 20px;">
        <button type="button" onclick="calculateWrapper()">Tüm Sonuçları Hesapla</button>
      </div>
      <p style="font-size: 0.9em; margin-top: 10px; text-align: center;">
        <sup>*</sup> Bu kutuyu işaretlemek, barajdan bağımsız olarak doğrudan nitelendirme sağlar.
      </p>
    </form>
  </div>
  
<!-- Centered "Create Party" Button -->
<div id="createPartyButtonContainer">
  <button id="createPartyButton" onclick="openCreatePartyModal()">Create Party</button>
</div>

  <!-- Create Party Modal -->
  <div id="createPartyModal">
    <h2>Create New Party</h2>
    <label for="newPartyName">Party Name:</label>
    <input type="text" id="newPartyName" placeholder="New Party Name"><br><br>
    
    <label for="newPartyColor">Select Party Color:</label>
    <input type="color" id="newPartyColor" value="#000000"><br><br>
    
    <h3>Base Share from Existing Parties</h3>
    <div id="baseShareContainer">
      <!-- Base share inputs will be generated here -->
    </div>
    
    <br>
    <button onclick="submitNewParty()">Create Party</button>
    <button onclick="document.getElementById('createPartyModal').style.display='none'">Cancel</button>
  </div>
  
  <!-- Province Container -->
  <div class="province-container" id="provinceContainer">
    <h2>İl Bazlı Sonuçlar</h2>
    <div id="provinceFilter">
      <input type="text" placeholder="İl Filtresi (isteğe bağlı)">
    </div>
    <div id="provinceResults">
      <!-- Province boxes will be generated here by JavaScript -->
    </div>
  </div>
  
  
  
  
  <!-- Tooltip -->
  <div id="tooltip"></div>
  



<script>
/***********************************************
 * COLOR ADJUSTMENT FUNCTIONS
 ***********************************************/
// Convert a hex color to HSL.
function hexToHSL(H) {
  let r = 0, g = 0, b = 0;
  if (H.length === 4) {
    r = "0x" + H[1] + H[1];
    g = "0x" + H[2] + H[2];
    b = "0x" + H[3] + H[3];
  } else if (H.length === 7) {
    r = "0x" + H[1] + H[2];
    g = "0x" + H[3] + H[4];
    b = "0x" + H[5] + H[6];
  }
  r /= 255;
  g /= 255;
  b /= 255;
  let cmin = Math.min(r, g, b),
      cmax = Math.max(r, g, b),
      delta = cmax - cmin,
      h = 0,
      s = 0,
      l = (cmax + cmin) / 2;
  if (delta === 0)
    h = 0;
  else if (cmax === r)
    h = ((g - b) / delta) % 6;
  else if (cmax === g)
    h = (b - r) / delta + 2;
  else
    h = (r - g) / delta + 4;
  h = Math.round(h * 60);
  if (h < 0)
    h += 360;
  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
  s = +(s * 100).toFixed(1);
  l = +(l * 100).toFixed(1);
  return { h, s, l };
}
  
// Convert an HSL object back to hex.
function hslToHex(hsl) {
  let { h, s, l } = hsl;
  s /= 100;
  l /= 100;
  let c = (1 - Math.abs(2 * l - 1)) * s,
      x = c * (1 - Math.abs((h / 60) % 2 - 1)),
      m = l - c / 2,
      r = 0, g = 0, b = 0;
  if (0 <= h && h < 60) {
    r = c; g = x; b = 0;
  } else if (60 <= h && h < 120) {
    r = x; g = c; b = 0;
  } else if (120 <= h && h < 180) {
    r = 0; g = c; b = x;
  } else if (180 <= h && h < 240) {
    r = 0; g = x; b = c;
  } else if (240 <= h && h < 300) {
    r = x; g = 0; b = c;
  } else if (300 <= h && h < 360) {
    r = c; g = 0; b = x;
  }
  r = Math.round((r + m) * 255);
  g = Math.round((g + m) * 255);
  b = Math.round((b + m) * 255);
  return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
}
  
// Adjust the base color based on voteShare.
// At 50%, the color is unchanged. For every 5% above or below, adjust the lightness by 5%.
function adjustColor(baseColor, voteShare) {
  const baseline = 50;
  const steps = Math.round((voteShare - baseline) / 1);
  const stepAmount = 1;
  let hsl = hexToHSL(baseColor);
  hsl.l = Math.min(100, Math.max(0, hsl.l - steps * stepAmount));
  return hslToHex(hsl);
}
  
/***********************************************
 * GLOBAL DATA
 ***********************************************/
// Each province object should have an id (matching your SVG path id) and a displayName.
const provinces = [ 
  {
    id: "TR05",
    displayName: "Ciftlik",
    mpCount: 43,
    ratios: {
      "CHP": 0.68,
      "AKP": 1.32,
      "MHP": 1.01,
      "İYİP": 0.95,
      "DEM": 0.34,
      "YRP": 2.37,
      "ZP": 1.60,
      "BBP": 1.28,
      "TİP": 0,
      "OTH": 0.58
    }
  },
  {
    id: "TR20",
    displayName: "Donanma",
    mpCount: 38,
    ratios: {
      "CHP": 0.91,
      "AKP": 1.15,
      "MHP": 0.81,
      "İYİP": 1.12,
      "DEM": 0.34,
      "YRP": 2.12,
      "ZP": 1.76,
      "BBP": 1.02,
      "TİP": 0,
      "OTH": 0.75
    }
  },
  {
    id: "TR16",
    displayName: "Piyalepasa",
    mpCount: 38,
    ratios: {
      "CHP": 0.64,
      "AKP": 1.17,
      "MHP": 1.01,
      "İYİP": 0.86,
      "DEM": 0.40,
      "YRP": 2.68,
      "ZP": 1.82,
      "BBP": 1.12,
      "TİP": 0,
      "OTH": 1.55
    }
  },
  {
    id: "TR21",
    displayName: "Topcular",
    mpCount: 38,
    ratios: {
      "CHP": 1.86,
      "AKP": 0.58,
      "MHP": 0.50,
      "İYİP": 1.63,
      "DEM": 0.26,
      "YRP": 0.84,
      "ZP": 1.44,
      "BBP": 0.61,
      "TİP": 0,
      "OTH": 0.62
    }
  },
  {
    id: "TR15",
    displayName: "Sehitler",
    mpCount: 36,
    ratios: {
      "CHP": 0.68,
      "AKP": 1.29,
      "MHP": 0.93,
      "İYİP": 0.91,
      "DEM": 0.54,
      "YRP": 2.57,
      "ZP": 1.72,
      "BBP": 1.12,
      "TİP": 0,
      "OTH": 0.54
    }
  },
  {
    id: "TR09",
    displayName: "Merkez",
    mpCount: 31,
    ratios: {
      "CHP": 1.25,
      "AKP": 0.89,
      "MHP": 0.80,
      "İYİP": 1.53,
      "DEM": 0.26,
      "YRP": 1.20,
      "ZP": 2.03,
      "BBP": 0.82,
      "TİP": 0,
      "OTH": 0.61
    }
  },
  {
    id: "TR22",
    displayName: "Ataturk",
    mpCount: 32,
    ratios: {
      "CHP": 1.80,
      "AKP": 0.61,
      "MHP": 0.56,
      "İYİP": 1.70,
      "DEM": 0.22,
      "YRP": 0.95,
      "ZP": 1.32,
      "BBP": 0.46,
      "TİP": 0,
      "OTH": 0.61
    }
  },
  {
    id: "TR14",
    displayName: "Yeni",
    mpCount: 29,
    ratios: {
      "CHP": 0.71,
      "AKP": 1.20,
      "MHP": 1.01,
      "İYİP": 0.92,
      "DEM": 0.72,
      "YRP": 2.12,
      "ZP": 1.67,
      "BBP": 0.89,
      "TİP": 0,
      "OTH": 0.76
    }
  },
  {
    id: "TR12",
    displayName: "Sirinkoy",
    mpCount: 28,
    ratios: {
      "CHP": 0.91,
      "AKP": 1.17,
      "MHP": 0.99,
      "İYİP": 0.94,
      "DEM": 0.24,
      "YRP": 2.12,
      "ZP": 1.76,
      "BBP": 1.17,
      "TİP": 0,
      "OTH": 0.71
    }
  },
  {
    id: "TR11",
    displayName: "Degirmendere Merkez",
    mpCount: 28,
    ratios: {
      "CHP": 1.99,
      "AKP": 0.57,
      "MHP": 0.50,
      "İYİP": 1.53,
      "DEM": 0.17,
      "YRP": 0.60,
      "ZP": 1.06,
      "BBP": 0.61,
      "TİP": 0,
      "OTH": 0.72
    }
  },
  {
    id: "TR01",
    displayName: "Kavaklı",
    mpCount: 27,
    ratios: {
      "CHP": 0.87,
      "AKP": 1.26,
      "MHP": 0.91,
      "İYİP": 1.02,
      "DEM": 0.23,
      "YRP": 2.03,
      "ZP": 1.32,
      "BBP": 0.71,
      "TİP": 0,
      "OTH": 0.67
    }
  },
  {
    id: "TR08",
    displayName: "Yuzbasilar",
    mpCount: 26,
    ratios: {
      "CHP": 2.07,
      "AKP": 0.49,
      "MHP": 0.40,
      "İYİP": 1.63,
      "DEM": 0.17,
      "YRP": 0.53,
      "ZP": 1.23,
      "BBP": 0.40,
      "TİP": 0,
      "OTH": 0.91
    }
  },
  {
    id: "TR10",
    displayName: "Degirmendere Yali",
    mpCount: 21,
    ratios: {
      "CHP": 1.75,
      "AKP": 0.72,
      "MHP": 0.50,
      "İYİP": 1.43,
      "DEM": 0.28,
      "YRP": 0.92,
      "ZP": 1.19,
      "BBP": 0.71,
      "TİP": 0,
      "OTH": 0.66
    }
  },
  {
    id: "TR33",
    displayName: "Dumlupinar",
    mpCount: 19,
    ratios: {
      "CHP": 0.79,
      "AKP": 1.17,
      "MHP": 0.91,
      "İYİP": 1.02,
      "DEM": 0.54,
      "YRP": 2.72,
      "ZP": 1.32,
      "BBP": 1.02,
      "TİP": 0,
      "OTH": 0.68
    }
  },
  {
    id: "TR13",
    displayName: "Ipek Yolu",
    mpCount: 19,
    ratios: {
      "CHP": 0.83,
      "AKP": 1.23,
      "MHP": 1.01,
      "İYİP": 1.02,
      "DEM": 0.16,
      "YRP": 2.12,
      "ZP": 1.67,
      "BBP": 1.33,
      "TİP": 0,
      "OTH": 0.66
    }
  },
  {
    id: "TR24",
    displayName: "Cumhuriyet",
    mpCount: 17,
    ratios: {
      "CHP": 1.35,
      "AKP": 0.86,
      "MHP": 0.71,
      "İYİP": 1.53,
      "DEM": 0.46,
      "YRP": 1.20,
      "ZP": 1.76,
      "BBP": 0.71,
      "TİP": 0,
      "OTH": 0.36
    }
  },
  {
    id: "TR03",
    displayName: "Karakopru",
    mpCount: 16,
    ratios: {
      "CHP": 0.79,
      "AKP": 1.17,
      "MHP": 1.01,
      "İYİP": 0.99,
      "DEM": 0.40,
      "YRP": 2.44,
      "ZP": 1.67,
      "BBP": 1.53,
      "TİP": 0,
      "OTH": 0.68
    }
  },
  {
    id: "TR17",
    displayName: "Ihsaniye Merkez",
    mpCount: 15,
    ratios: {
      "CHP": 1.07,
      "AKP": 1.15,
      "MHP": 0.66,
      "İYİP": 1.22,
      "DEM": 0.13,
      "YRP": 1.98,
      "ZP": 1.19,
      "BBP": 0.86,
      "TİP": 0,
      "OTH": 0.80
    }
  },
  {
    id: "TR18",
    displayName: "Duzagac",
    mpCount: 13,
    ratios: {
      "CHP": 0.99,
      "AKP": 1.06,
      "MHP": 0.91,
      "İYİP": 1.12,
      "DEM": 0.40,
      "YRP": 1.73,
      "ZP": 1.81,
      "BBP": 0.92,
      "TİP": 0,
      "OTH": 0.87
    }
  },
  {
    id: "TR04",
    displayName: "Yazlik Yeni",
    mpCount: 12,
    ratios: {
      "CHP": 0.68,
      "AKP": 1.29,
      "MHP": 1.01,
      "İYİP": 0.93,
      "DEM": 0.33,
      "YRP": 2.90,
      "ZP": 1.32,
      "BBP": 0.92,
      "TİP": 0,
      "OTH": 0.74
    }
  },
  {
    id: "TR27",
    displayName: "Halidere Yali",
    mpCount: 11,
    ratios: {
      "CHP": 0.99,
      "AKP": 1.12,
      "MHP": 0.71,
      "İYİP": 1.53,
      "DEM": 0.14,
      "YRP": 1.68,
      "ZP": 1.44,
      "BBP": 1.22,
      "TİP": 0,
      "OTH": 0.67
    }
  },
  {
    id: "TR07",
    displayName: "Hisareyn Merkez",
    mpCount: 10,
    ratios: {
      "CHP": 1.07,
      "AKP": 1.23,
      "MHP": 0.74,
      "İYİP": 0.69,
      "DEM": 0.27,
      "YRP": 2.03,
      "ZP": 1.45,
      "BBP": 1.02,
      "TİP": 0,
      "OTH": 0.67
    }
  },
  {
    id: "TR19",
    displayName: "Yunus Emre",
    mpCount: 9,
    ratios: {
      "CHP": 1.07,
      "AKP": 1.12,
      "MHP": 0.81,
      "İYİP": 1.02,
      "DEM": 0.20,
      "YRP": 2.61,
      "ZP": 1.54,
      "BBP": 0.41,
      "TİP": 0,
      "OTH": 0.56
    }
  },
  {
    id: "TR23",
    displayName: "Yukari",
    mpCount: 9,
    ratios: {
      "CHP": 1.11,
      "AKP": 1.00,
      "MHP": 0.68,
      "İYİP": 1.33,
      "DEM": 0.18,
      "YRP": 2.40,
      "ZP": 1.50,
      "BBP": 0.59,
      "TİP": 0,
      "OTH": 0.93
    }
  },
  {
    id: "TR30",
    displayName: "Ulasli Yavuz Sultan Selim",
    mpCount: 7,
    ratios: {
      "CHP": 0.95,
      "AKP": 1.12,
      "MHP": 0.71,
      "İYİP": 1.02,
      "DEM": 0.06,
      "YRP": 3.53,
      "ZP": 1.50,
      "BBP": 1.02,
      "TİP": 0,
      "OTH": 0.96
    }
  },
  {
    id: "TR29",
    displayName: "Korfez",
    mpCount: 7,
    ratios: {
      "CHP": 0.87,
      "AKP": 1.12,
      "MHP": 0.66,
      "İYİP": 1.17,
      "DEM": 0.25,
      "YRP": 3.32,
      "ZP": 1.54,
      "BBP": 0.81,
      "TİP": 0,
      "OTH": 0.96
    }
  },
  {
    id: "TR06",
    displayName: "Yazlik Merkez",
    mpCount: 5,
    ratios: {
      "CHP": 0.52,
      "AKP": 1.37,
      "MHP": 0.96,
      "İYİP": 0.89,
      "DEM": 0.30,
      "YRP": 3.89,
      "ZP": 1.32,
      "BBP": 1.33,
      "TİP": 0,
      "OTH": 0.55
    }
  },
  {
    id: "TR02",
    displayName: "Denizevler",
    mpCount: 4,
    ratios: {
      "CHP": 0.40,
      "AKP": 1.60,
      "MHP": 1.51,
      "İYİP": 0.82,
      "DEM": 0.02,
      "YRP": 1.77,
      "ZP": 0.66,
      "BBP": 1.84,
      "TİP": 0,
      "OTH": 0.47
    }
  },
  {
    id: "TR26",
    displayName: "Orcun",
    mpCount: 3,
    ratios: {
      "CHP": 1.19,
      "AKP": 0.89,
      "MHP": 0.76,
      "İYİP": 1.27,
      "DEM": 0.23,
      "YRP": 1.41,
      "ZP": 1.89,
      "BBP": 1.02,
      "TİP": 0,
      "OTH": 1.45
    }
  },
  {
    id: "TR32",
    displayName: "Ulasli Yali",
    mpCount: 3,
    ratios: {
      "CHP": 0.83,
      "AKP": 1.00,
      "MHP": 0.81,
      "İYİP": 1.33,
      "DEM": 0.17,
      "YRP": 4.59,
      "ZP": 1.59,
      "BBP": 0.61,
      "TİP": 0,
      "OTH": 0.81
    }
  },
  {
    id: "TR25",
    displayName: "Sarayli",
    mpCount: 3,
    ratios: {
      "CHP": 1.31,
      "AKP": 1.06,
      "MHP": 0.68,
      "İYİP": 1.12,
      "DEM": 0.14,
      "YRP": 1.34,
      "ZP": 1.32,
      "BBP": 1.02,
      "TİP": 0,
      "OTH": 0.62
    }
  },
  {
    id: "TR28",
    displayName: "Halidere Yeni",
    mpCount: 3,
    ratios: {
      "CHP": 1.51,
      "AKP": 0.80,
      "MHP": 0.71,
      "İYİP": 1.53,
      "DEM": 0.11,
      "YRP": 1.77,
      "ZP": 1.32,
      "BBP": 1.02,
      "TİP": 0,
      "OTH": 0.38
    }
  },
  {
    id: "TR34",
    displayName: "Golcuk At Large",
    mpCount: 0,
    ratios: {
      "CHP": 0.99,
      "AKP": 1.06,
      "MHP": 0.81,
      "İYİP": 1.15,
      "DEM": 0.31,
      "YRP": 2.00,
      "ZP": 1.52,
      "BBP": 0.92,
      "TİP": 0,
      "OTH": 1.13
    }
  }
];

  
// Global parties array and party colors.
let parties = ["CHP","AKP","MHP","İYİP","DEM","YRP","ZP","BBP","TİP","OTH"];
let partyColors = {
  "CHP": "#FF0000",    // red
  "AKP": "#FFFF00",    // yellow
  "MHP": "#0000FF",    // blue
  "İYİP": "#40E0D0",   // turquoise
  "DEM": "#800080",    // purple
  "YRP": "#008000",    // green
  "ZP": "#000000",     // black
  "BBP": "#FFC0CB",    // pink
  "TİP": "#8B0000",    // dark red
  "OTH": "#808080"     // gray
};
  
// Candidate Colors for presidential modes (initial order)
const candidateColorsArray = [
  "#FF0000", // Candidate 1: red
  "#FFFF00", // Candidate 2: yellow
  "#008000", // Candidate 3: green
  "#000000", // Candidate 4: black
  "#800080", // Candidate 5: purple
  "#FFFFFF", // Candidate 6: white
  "#808080"  // Candidate 7: gray
];
  
// Global election mode. Options: "parliamentary", "pres1", "pres2"
let electionMode = "parliamentary";
  
let isSecondRound = false;
let topTwoCandidates = [];
let normalizedNational = {};
let provinceResults = [];
let overallHTML = "";
let overallPresHTML = "";
let candidateResults = [];
let firstRoundSandigaValues = [];
let secondRoundCandidateResults = null; // Will store 2nd round candidate results
  
// Global mapping from candidate name to fixed color.
let candidateColorMapping = {};
  
/***********************************************
 * HELPER FUNCTIONS
 ***********************************************/
function getFraction(val) {
  return (val > 1) ? Math.min(val, 100) / 100 : val;
}
  
function effectiveFraction(candidateInput, sandigaInput) {
  let cand = Math.min(candidateInput, 100);
  return (cand / 100) * ((100 - sandigaInput) / 100);
}
  
// Update SVG map colors based on the current election mode.
function updateMapColors() {
  if (electionMode === "parliamentary") {
    provinceResults.forEach(result => {
      const provId = result.province;
      const localPercents = result.localPercentages;
      const winnerParty = Object.keys(localPercents).reduce((a, b) => localPercents[a] > localPercents[b] ? a : b);
      const voteShare = localPercents[winnerParty];
      let opacity = 0.5 + 0.5 * (voteShare / 100);
      const baseColor = partyColors[winnerParty] || "#ccc";
      const color = adjustColor(baseColor, voteShare);
      const provElement = document.getElementById(provId);
      if (provElement) {
        provElement.style.fill = color;
        provElement.style.opacity = opacity;
      }
    });
  } else if (electionMode === "pres1") {
    if (candidateResults.length === 0) return;
    provinces.forEach(prov => {
      let total = candidateResults.reduce((sum, candidate) => sum + (candidate.presVotes[prov.id] || 0), 0);
      let winnerIndex = -1;
      let maxVotes = -1;
      candidateResults.forEach((candidate, index) => {
        let votes = candidate.presVotes[prov.id] || 0;
        if (votes > maxVotes) { maxVotes = votes; winnerIndex = index; }
      });
      const voteShare = total > 0 ? (maxVotes / total * 100) : 0;
      let opacity = 0.5 + 0.5 * (voteShare / 100);
      const winnerCandidate = candidateResults[winnerIndex].candidate;
      const baseColor = candidateColorMapping[winnerCandidate] || "#ccc";
      const color = adjustColor(baseColor, voteShare);
      const provElement = document.getElementById(prov.id);
      if (provElement) {
        provElement.style.fill = color;
        provElement.style.opacity = opacity;
      }
    });
  } else if (electionMode === "pres2") {
    if (!secondRoundCandidateResults) return;
    provinces.forEach(prov => {
      let total = secondRoundCandidateResults.reduce((sum, candidate) => sum + (candidate.presVotes[prov.id] || 0), 0);
      let winnerIndex = -1;
      let maxVotes = -1;
      secondRoundCandidateResults.forEach((candidate, index) => {
        let votes = candidate.presVotes[prov.id] || 0;
        if (votes > maxVotes) { maxVotes = votes; winnerIndex = index; }
      });
      const voteShare = total > 0 ? (maxVotes / total * 100) : 0;
      let opacity = 0.5 + 0.5 * (voteShare / 100);
      const winnerCandidate = secondRoundCandidateResults[winnerIndex].candidate;
      const baseColor = candidateColorMapping[winnerCandidate] || "#ccc";
      const color = adjustColor(baseColor, voteShare);
      const provElement = document.getElementById(prov.id);
      if (provElement) {
        provElement.style.fill = color;
        provElement.style.opacity = opacity;
      }
    });
  }
}
  
// Add tooltip functionality to each SVG province.
function addTooltipListeners() {
  provinces.forEach(prov => {
    let path = document.getElementById(prov.id);
    if (path) {
      path.addEventListener("mouseover", function(event) {
        let result = provinceResults.find(r => r.province === prov.id);
        let content = "<strong>" + prov.displayName + "</strong><br>";
        if (result) {
          content += "<u>Parliamentary:</u><br>";
          for (let party in result.localPercentages) {
            content += party + ": " + result.localPercentages[party].toFixed(2) + "%, MPs: " + result.seatsAllocated[party] + "<br>";
          }
          if (candidateResults && candidateResults.length > 0) {
            let totalVotes = candidateResults.reduce((sum, cand) => sum + (cand.presVotes[prov.id] || 0), 0);
            content += "<u>Presidential (1st Round):</u><br>";
            candidateResults.forEach(candidate => {
              let vote = candidate.presVotes[prov.id] || 0;
              let perc = totalVotes > 0 ? (vote / totalVotes * 100).toFixed(2) : "0.00";
              content += candidate.candidate + ": " + perc + "%<br>";
            });
          }
          if (secondRoundCandidateResults) {
            let totalVotes2 = secondRoundCandidateResults.reduce((sum, cand) => sum + (cand.presVotes[prov.id] || 0), 0);
            content += "<u>Presidential (2nd Round):</u><br>";
            secondRoundCandidateResults.forEach(candidate => {
              let vote = candidate.presVotes[prov.id] || 0;
              let perc = totalVotes2 > 0 ? (vote / totalVotes2 * 100).toFixed(2) : "0.00";
              content += candidate.candidate + ": " + perc + "%<br>";
            });
          }
        } else {
          content += "No data available.";
        }
        tooltip.innerHTML = content;
        tooltip.style.display = "block";
      });
      path.addEventListener("mousemove", function(event) {
        tooltip.style.left = (event.pageX + 10) + "px";
        tooltip.style.top = (event.pageY + 10) + "px";
      });
      path.addEventListener("mouseout", function() {
        tooltip.style.display = "none";
      });
    }
  });
}
  
/***********************************************
 * INITIALIZATION
 ***********************************************/
let tooltip;
window.onload = function() {
  tooltip = document.getElementById("tooltip");
  
  // Build Parliamentary Table
  const swingTbody = document.querySelector("form#swingometerForm tbody");
  swingTbody.innerHTML = "";
  parties.forEach(party => {
    const row = document.createElement("tr");
    const cellParty = document.createElement("td");
    cellParty.textContent = party;
    row.appendChild(cellParty);
    const cellInput = document.createElement("td");
    const input = document.createElement("input");
    input.type = "number";
    input.id = "input_" + party;
    input.value = "0";
    input.step = "any";
    cellInput.appendChild(input);
    row.appendChild(cellInput);
    const cellCheckbox = document.createElement("td");
    const checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.id = "qualify_" + party;
    if (party === "OTH") { checkbox.disabled = true; checkbox.checked = false; }
    cellCheckbox.appendChild(checkbox);
    row.appendChild(cellCheckbox);
    swingTbody.appendChild(row);
  });
  
  // Build First Round Presidential Table Header
  const presHeader = document.getElementById("presidentialTableHeader");
  presHeader.innerHTML = "";
  let th = document.createElement("th");
  th.textContent = "Candidate";
  presHeader.appendChild(th);
  parties.forEach(party => {
    let th = document.createElement("th");
    th.textContent = party;
    presHeader.appendChild(th);
  });
  
  // Populate default candidates
  const presTbody = document.querySelector("#presidentialTable tbody");
  presTbody.innerHTML = "";
  const defaultCandidates = ["Imamoğlu", "Erdoğan", "Erbakan", "İYİ/ZP", "DEM"];
  defaultCandidates.forEach(candidateName => {
    let row = document.createElement("tr");
    let cell = document.createElement("td");
    let input = document.createElement("input");
    input.type = "text";
    input.value = candidateName;
    cell.appendChild(input);
    row.appendChild(cell);
    parties.forEach(() => {
      let cell = document.createElement("td");
      let input = document.createElement("input");
      input.type = "number";
      input.value = "0";
      input.step = "any";
      cell.appendChild(input);
      row.appendChild(cell);
    });
    presTbody.appendChild(row);
  });
  
  // Add final row for "Sandığa Gitmeyen"
  let sandigaRow = document.createElement("tr");
  sandigaRow.id = "sandigaRow";
  let labelCell = document.createElement("td");
  labelCell.textContent = "Sandığa Gitmeyen";
  sandigaRow.appendChild(labelCell);
  parties.forEach(() => {
    let cell = document.createElement("td");
    let input = document.createElement("input");
    input.type = "number";
    input.value = "0";
    input.step = "any";
    cell.appendChild(input);
    sandigaRow.appendChild(cell);
  });
  presTbody.appendChild(sandigaRow);
  
  // Hide second round section initially.
  document.getElementById("secondRoundDiv").style.display = "none";
  
  // Add tooltip listeners to the SVG map.
  addTooltipListeners();
  
  // Add change listeners to all input fields so any edits trigger recalculation.
  document.querySelectorAll("input").forEach(input => {
    input.addEventListener("change", calculateWrapper);
  });
};
  
/***********************************************
 * Create Second Round Table
 ***********************************************/
function createSecondRoundTable(candidates) {
  const srHeader = document.getElementById("secondRoundTableHeader");
  srHeader.innerHTML = "";
  let th = document.createElement("th");
  th.textContent = "Candidate";
  srHeader.appendChild(th);
  parties.forEach(party => {
    let th = document.createElement("th");
    th.textContent = party;
    srHeader.appendChild(th);
  });
  const srTbody = document.querySelector("#secondRoundTable tbody");
  srTbody.innerHTML = "";
  candidates.forEach(candidateName => {
    let row = document.createElement("tr");
    let cell = document.createElement("td");
    let input = document.createElement("input");
    input.type = "text";
    input.value = candidateName;
    cell.appendChild(input);
    row.appendChild(cell);
    parties.forEach(() => {
      let cell = document.createElement("td");
      let input = document.createElement("input");
      input.type = "number";
      input.value = "0";
      input.step = "any";
      cell.appendChild(input);
      row.appendChild(cell);
    });
    srTbody.appendChild(row);
  });
  // Add final row for "Sandığa Gitmeyen"
  let srSandigaRow = document.createElement("tr");
  srSandigaRow.id = "srSandigaRow";
  let srLabelCell = document.createElement("td");
  srLabelCell.textContent = "Sandığa Gitmeyen";
  srSandigaRow.appendChild(srLabelCell);
  parties.forEach(() => {
    let cell = document.createElement("td");
    let input = document.createElement("input");
    input.type = "number";
    input.value = "0";
    input.step = "any";
    cell.appendChild(input);
    srSandigaRow.appendChild(cell);
  });
  srTbody.appendChild(srSandigaRow);
  
  document.getElementById("secondRoundDiv").style.display = "block";
}
  
/***********************************************
 * Build Province Combined Results Block (1st Round)
 ***********************************************/
function buildProvinceCombinedResults(provResultsArr, candResultsArr, sandigaValues, roundLabel) {
  roundLabel = roundLabel || "Presidential Results";
  let provinceHTML = "";
  provinces.forEach(prov => {
    provinceHTML += `<div class="province-block"><h3>${prov.displayName} (MPs: ${prov.mpCount})</h3>`;
    let provResult = provResultsArr.find(pr => pr.province === prov.id);
    provinceHTML += "<table><thead><tr><th>Party</th><th>Local Vote %</th><th>MPs Allocated</th></tr></thead><tbody>";
    parties.forEach(party => {
      provinceHTML += `<tr><td>${party}</td><td>${provResult.localPercentages[party].toFixed(2)}%</td><td>${provResult.seatsAllocated[party]}</td></tr>`;
    });
    provinceHTML += "</tbody></table>";
    provinceHTML += `<h4>${roundLabel} Presidential Results in ${prov.displayName}</h4>`;
    provinceHTML += "<table><thead><tr><th>Candidate</th><th>Vote %</th></tr></thead><tbody>";
    candResultsArr.forEach(candidate => {
      let total = candResultsArr.reduce((sum, cand) => sum + (cand.presVotes[prov.id] || 0), 0);
      let perc = total > 0 ? ((candidate.presVotes[prov.id] || 0) / total * 100) : 0;
      provinceHTML += `<tr><td>${candidate.candidate}</td><td>${perc.toFixed(2)}%</td></tr>`;
    });
    provinceHTML += "</tbody></table></div>";
  });
  return provinceHTML;
}
  
/***********************************************
 * Build Combined Province Results Block (All Rounds)
 ***********************************************/
function buildCombinedProvinceResults(provResultsArr, candResults1, candResults2, sandigaValues1, sandigaValues2) {
  let html = "";
  provinces.forEach(prov => {
    html += `<div class="province-block"><h3>${prov.displayName} (MPs: ${prov.mpCount})</h3>`;
    let provResult = provResultsArr.find(pr => pr.province === prov.id);
    html += "<table><thead><tr><th>Party</th><th>Local Vote %</th><th>MPs Allocated</th></tr></thead><tbody>";
    parties.forEach(party => {
      html += `<tr><td>${party}</td><td>${provResult.localPercentages[party].toFixed(2)}%</td><td>${provResult.seatsAllocated[party]}</td></tr>`;
    });
    html += "</tbody></table>";
    // 1st Round Results
    html += `<h4>1st Round Presidential Results in ${prov.displayName}</h4>`;
    html += "<table><thead><tr><th>Candidate</th><th>Vote %</th></tr></thead><tbody>";
    let total1 = candResults1.reduce((sum, cand) => sum + (cand.presVotes[prov.id] || 0), 0);
    candResults1.forEach(candidate => {
      let vote = candidate.presVotes[prov.id] || 0;
      let perc = total1 > 0 ? (vote / total1 * 100) : 0;
      html += `<tr><td>${candidate.candidate}</td><td>${perc.toFixed(2)}%</td></tr>`;
    });
    html += "</tbody></table>";
    // 2nd Round Results (if available)
    if (candResults2) {
      html += `<h4>2nd Round Presidential Results in ${prov.displayName}</h4>`;
      html += "<table><thead><tr><th>Candidate</th><th>Vote %</th></tr></thead><tbody>";
      let total2 = candResults2.reduce((sum, cand) => sum + (cand.presVotes[prov.id] || 0), 0);
      candResults2.forEach(candidate => {
        let vote = candidate.presVotes[prov.id] || 0;
        let perc = total2 > 0 ? (vote / total2 * 100) : 0;
        html += `<tr><td>${candidate.candidate}</td><td>${perc.toFixed(2)}%</td></tr>`;
      });
      html += "</tbody></table>";
    }
    html += "</div>";
  });
  return html;
}
  
/***********************************************
 * First Round Calculation
 ***********************************************/
function calculateSwingometer() {
  let nationalInputs = {};
  let totalInput = 0;
  parties.forEach(party => {
    let val = parseFloat(document.getElementById("input_" + party).value);
    if (isNaN(val)) { val = 0; }
    nationalInputs[party] = val;
    totalInput += val;
  });
  if (totalInput === 0) { alert("Please enter some vote share values."); return; }
  parties.forEach(party => { normalizedNational[party] = nationalInputs[party] / totalInput; });
  let thresholdPercent = parseFloat(document.getElementById("threshold").value);
  if (isNaN(thresholdPercent)) { thresholdPercent = 10; }
  
  let overallSeats = {};
  parties.forEach(party => { overallSeats[party] = 0; });
  
  provinceResults = [];
  provinces.forEach(prov => {
    let computedVotes = {};
    parties.forEach(party => { computedVotes[party] = normalizedNational[party] * prov.ratios[party]; });
    let sumComputed = parties.reduce((sum, party) => sum + computedVotes[party], 0);
    let localPercentages = {};
    parties.forEach(party => { localPercentages[party] = sumComputed > 0 ? (computedVotes[party] / sumComputed) * 100 : 0; });
    let computedVotesForSeats = {};
    parties.forEach(party => {
      if (party === "OTH") { computedVotesForSeats[party] = 0; }
      else {
        const qualifyCheckbox = document.getElementById("qualify_" + party);
        const forceQualify = qualifyCheckbox ? qualifyCheckbox.checked : false;
        computedVotesForSeats[party] = (forceQualify || (normalizedNational[party] * 100 >= thresholdPercent))
          ? computedVotes[party] : 0;
      }
    });
    let seatsAllocated = {};
    parties.forEach(party => { seatsAllocated[party] = 0; });
    for (let i = 0; i < prov.mpCount; i++) {
      let maxQ = -1, winParty = null;
      parties.forEach(party => {
        let quotient = computedVotesForSeats[party] / (seatsAllocated[party] + 1);
        if (quotient > maxQ) { maxQ = quotient; winParty = party; }
      });
      if (winParty) { seatsAllocated[winParty]++; }
    }
    parties.forEach(party => { overallSeats[party] += seatsAllocated[party]; });
    provinceResults.push({
      province: prov.id,
      mpCount: prov.mpCount,
      computedVotes: computedVotes,
      localPercentages: localPercentages,
      seatsAllocated: seatsAllocated
    });
  });
  
  let overallPercentages = {};
  parties.forEach(party => { overallPercentages[party] = normalizedNational[party] * 100; });
  overallHTML = "<h2>Overall National Parliamentary Results</h2><table><thead><tr><th>Party</th><th>National Vote %</th><th>MPs Allocated</th></tr></thead><tbody>";
  parties.forEach(party => {
    overallHTML += `<tr><td>${party}</td><td>${overallPercentages[party].toFixed(2)}%</td><td>${overallSeats[party]}</td></tr>`;
  });
  overallHTML += "</tbody></table>";
  
  const presTbody = document.querySelector("#presidentialTable tbody");
  const candidateRows = Array.from(presTbody.getElementsByTagName("tr")).filter(row => row.id !== "sandigaRow");
  candidateResults = [];
  candidateRows.forEach(row => {
    const cells = row.getElementsByTagName("td");
    let name = cells[0].querySelector("input").value.trim();
    if (!name) { name = "Candidate"; }
    let supportArray = [];
    for (let j = 1; j < cells.length; j++) {
      let val = parseFloat(cells[j].querySelector("input").value);
      if (isNaN(val)) { val = 0; }
      supportArray.push(val);
    }
    candidateResults.push({ candidate: name, support: supportArray, totalVotes: 0, presVotes: {} });
  });
  
  candidateColorMapping = {};
  candidateResults.forEach((candidate, index) => {
    candidateColorMapping[candidate.candidate] = candidateColorsArray[index] || "#ccc";
  });
  
  let sandigaRowElem = document.getElementById("sandigaRow");
  const sandigaCells = sandigaRowElem.getElementsByTagName("td");
  let sandigaValues = [];
  for (let j = 1; j < sandigaCells.length; j++) {
    let val = parseFloat(sandigaCells[j].querySelector("input").value);
    if (isNaN(val)) { val = 0; }
    sandigaValues.push(val);
  }
  firstRoundSandigaValues = sandigaValues;
  
  candidateResults.forEach(candidate => { candidate.totalVotes = 0; });
  for (let i = 0; i < parties.length; i++) {
    candidateResults.forEach(candidate => {
      let eff = effectiveFraction(candidate.support[i], sandigaValues[i]);
      candidate.totalVotes += normalizedNational[parties[i]] * eff;
    });
  }
  
  let sumRatios = {};
  parties.forEach(party => {
    sumRatios[party] = provinces.reduce((sum, prov) => sum + prov.ratios[party], 0);
  });
  candidateResults.forEach(candidate => {
    candidate.presVotes = {};
    provinces.forEach(prov => {
      candidate.presVotes[prov.id] = 0;
    });
  });
  provinces.forEach(prov => {
    parties.forEach((party, i) => {
      let weight = (sumRatios[party] > 0) ? prov.ratios[party] / sumRatios[party] : 0;
      candidateResults.forEach(candidate => {
        let eff = effectiveFraction(candidate.support[i], sandigaValues[i]);
        candidate.presVotes[prov.id] += normalizedNational[party] * weight * eff;
      });
    });
  });
  
  let totalAll = candidateResults.reduce((sum, cand) => sum + cand.totalVotes, 0);
  overallPresHTML = "<h2>Overall National Presidential Results (1st Round)</h2><table><thead><tr><th>Candidate</th><th>National Vote %</th></tr></thead><tbody>";
  candidateResults.forEach(candidate => {
    let perc = totalAll > 0 ? (candidate.totalVotes / totalAll * 100) : 0;
    overallPresHTML += `<tr><td>${candidate.candidate}</td><td>${perc.toFixed(2)}%</td></tr>`;
  });
  overallPresHTML += "</tbody></table>";
  
  let resultsDiv = document.getElementById("results");
  let provinceHTML = buildProvinceCombinedResults(provinceResults, candidateResults, sandigaValues, "1st Round");
  
  if (totalAll > 0 && candidateResults.some(candidate => (candidate.totalVotes / totalAll * 100) > 50)) {
    resultsDiv.innerHTML = overallHTML + overallPresHTML;
    document.getElementById("secondRoundDiv").style.display = "none";
  } else {
    candidateResults.sort((a, b) => b.totalVotes - a.totalVotes);
    topTwoCandidates = candidateResults.slice(0, 2).map(c => c.candidate);
    resultsDiv.innerHTML = overallHTML + overallPresHTML +
      "<h2>No candidate reached 50% in the first round.</h2>" +
      "<p>Please enter second round party support values for the top two candidates below.</p>";
    if (document.getElementById("secondRoundDiv").style.display === "none") {
      createSecondRoundTable(topTwoCandidates);
    }
  }
  
  document.getElementById("provinceResults").innerHTML = buildCombinedProvinceResults(provinceResults, candidateResults, sandigaValues, "1st Round");
  isSecondRound = !candidateResults.some(candidate => totalAll > 0 && (candidate.totalVotes / totalAll * 100) > 50);
  updateMapColors();
}
  
/***********************************************
 * Second Round Calculation
 ***********************************************/
function calculateSecondRound() {
  // FIX: Set the election mode to "pres2" so that updateMapColors() processes the second round data.
  electionMode = "pres2";
  
  // Retrieve candidate rows from the second round table (excluding the "Sandığa Gitmeyen" row).
  const srTbody = document.querySelector("#secondRoundTable tbody");
  const candidateRows = Array.from(srTbody.getElementsByTagName("tr")).filter(row => row.id !== "srSandigaRow");
  let srCandidateResults = [];
  
  candidateRows.forEach(row => {
    const cells = row.getElementsByTagName("td");
    let name = cells[0].querySelector("input").value.trim();
    if (!name) { name = "Candidate"; }
    let supportArray = [];
    for (let j = 1; j < cells.length; j++) {
      let val = parseFloat(cells[j].querySelector("input").value);
      if (isNaN(val)) { val = 0; }
      supportArray.push(val);
    }
    srCandidateResults.push({ candidate: name, support: supportArray, totalVotes: 0, presVotes: {} });
  });
  
  // Retrieve "Sandığa Gitmeyen" (non-voter) values from the second round table.
  let srSandigaRow = document.getElementById("srSandigaRow");
  const srSandigaCells = srSandigaRow.getElementsByTagName("td");
  let srSandigaValues = [];
  for (let j = 1; j < srSandigaCells.length; j++) {
    let val = parseFloat(srSandigaCells[j].querySelector("input").value);
    if (isNaN(val)) { val = 0; }
    srSandigaValues.push(val);
  }
  
  // Calculate total votes for each candidate using the effectiveFraction function.
  srCandidateResults.forEach(candidate => { candidate.totalVotes = 0; });
  for (let i = 0; i < parties.length; i++) {
    srCandidateResults.forEach(candidate => {
      let eff = effectiveFraction(candidate.support[i], srSandigaValues[i]);
      candidate.totalVotes += normalizedNational[parties[i]] * eff;
    });
  }
  
  // Distribute votes to provinces according to party ratios.
  let sumRatios = {};
  parties.forEach(party => {
    sumRatios[party] = provinces.reduce((sum, prov) => sum + prov.ratios[party], 0);
  });
  
  srCandidateResults.forEach(candidate => {
    candidate.presVotes = {};
    provinces.forEach(prov => {
      candidate.presVotes[prov.id] = 0;
    });
  });
  
  provinces.forEach(prov => {
    parties.forEach((party, i) => {
      let weight = (sumRatios[party] > 0) ? prov.ratios[party] / sumRatios[party] : 0;
      srCandidateResults.forEach(candidate => {
        let eff = effectiveFraction(candidate.support[i], srSandigaValues[i]);
        candidate.presVotes[prov.id] += normalizedNational[party] * weight * eff;
      });
    });
  });
  
  // Build the overall second round results HTML.
  let totalAllSR = srCandidateResults.reduce((sum, cand) => sum + cand.totalVotes, 0);
  let overallSRPresHTML = "<h2>Overall Second Round Presidential Results</h2><table><thead><tr><th>Candidate</th><th>National Vote %</th></tr></thead><tbody>";
  srCandidateResults.forEach(candidate => {
    let perc = totalAllSR > 0 ? (candidate.totalVotes / totalAllSR * 100) : 0;
    overallSRPresHTML += `<tr><td>${candidate.candidate}</td><td>${perc.toFixed(2)}%</td></tr>`;
  });
  overallSRPresHTML += "</tbody></table>";
  
  // Build combined province results HTML (incorporates both rounds) using the helper function.
  let combinedProvinceHTML = buildCombinedProvinceResults(
    provinceResults,  // first round province results
    candidateResults, // first round candidate results
    srCandidateResults, // second round candidate results
    firstRoundSandigaValues,
    srSandigaValues
  );
  
  // Update the results display and save the second round candidate results.
  let resultsDiv = document.getElementById("results");
  resultsDiv.innerHTML = overallHTML + overallPresHTML + overallSRPresHTML;
  document.getElementById("provinceResults").innerHTML = combinedProvinceHTML;
  secondRoundCandidateResults = srCandidateResults;
  
  // Update the map colors so that the second round data is reflected.
  updateMapColors();
}

document.querySelectorAll("#secondRoundTable input").forEach(input => {
  input.addEventListener("change", calculateWrapper);
});



function calculateWrapper() {
  // Always recalc first round results
  calculateSwingometer();
  
  // Check if the second round section is visible using getComputedStyle
  if (window.getComputedStyle(document.getElementById("secondRoundDiv")).display !== "none") {
    // Explicitly set election mode to "pres2" before calculating the second round
    electionMode = "pres2";
    calculateSecondRound();
  }
  
  // Finally, update the map colors based on the current election mode
  updateMapColors();
}

/***********************************************
 * Add Candidate Row (First Round)
 ***********************************************/
function addCandidate() {
  const presTbody = document.querySelector("#presidentialTable tbody");
  const sandigaRow = document.getElementById("sandigaRow");
  let newRow = document.createElement("tr");
  let cell = document.createElement("td");
  let input = document.createElement("input");
  input.type = "text";
  input.placeholder = "Candidate Name";
  cell.appendChild(input);
  newRow.appendChild(cell);
  parties.forEach(() => {
    let cell = document.createElement("td");
    let input = document.createElement("input");
    input.type = "number";
    input.value = "0";
    input.step = "any";
    cell.appendChild(input);
    newRow.appendChild(cell);
  });
  presTbody.insertBefore(newRow, document.getElementById("sandigaRow"));
}
  
  
  
  
  
/***********************************************
 * Switch Election Mode (Map Button Handler)
 ***********************************************/
function switchElectionMode(mode) {
  electionMode = mode;
  updateMapColors();
}
  
/***********************************************
 * CREATE PARTY FUNCTIONALITY
 ***********************************************/
// Opens the modal popup for creating a new party.
function openCreatePartyModal() {
  let container = document.getElementById("baseShareContainer");
  container.innerHTML = "";
  parties.forEach(function(party) {
    container.innerHTML += `
      <div style="margin-bottom:5px;">
        <label for="baseShare_${party}">${party}:</label>
        <input type="number" id="baseShare_${party}" value="0" step="any" style="width:60px;">
      </div>
    `;
  });
  document.getElementById("createPartyModal").style.display = "block";
}
  
// Handles submission of the new party.
function submitNewParty() {
  let partyName = document.getElementById("newPartyName").value.trim();
  let partyColor = document.getElementById("newPartyColor").value;
  if (!partyName) {
    alert("Please enter a party name.");
    return;
  }
  let baseShares = {};
  parties.forEach(function(existingParty) {
    let inputElem = document.getElementById("baseShare_" + existingParty);
    baseShares[existingParty] = parseFloat(inputElem.value) || 0;
  });
  
  provinces.forEach(function(prov) {
    let newRatio = 0;
    parties.forEach(function(existingParty) {
      newRatio += (baseShares[existingParty] / 100) * (prov.ratios[existingParty] || 0);
    });
    prov.ratios[partyName] = newRatio;
  });
  
  parties.push(partyName);
  partyColors[partyName] = partyColor;
  
  let swingTbody = document.querySelector("form#swingometerForm tbody");
  let newRow = document.createElement("tr");
  let cellParty = document.createElement("td");
  cellParty.textContent = partyName;
  newRow.appendChild(cellParty);
  let cellInput = document.createElement("td");
  let inputElem = document.createElement("input");
  inputElem.type = "number";
  inputElem.id = "input_" + partyName;
  inputElem.value = "0";
  inputElem.step = "any";
  cellInput.appendChild(inputElem);
  newRow.appendChild(cellInput);
  let cellCheckbox = document.createElement("td");
  let checkbox = document.createElement("input");
  checkbox.type = "checkbox";
  checkbox.id = "qualify_" + partyName;
  cellCheckbox.appendChild(checkbox);
  newRow.appendChild(cellCheckbox);
  swingTbody.appendChild(newRow);
  
  document.getElementById("createPartyModal").style.display = "none";
  
  calculateWrapper();
}



function reloadMap() {
  // Simply reapply the current map coloring.
  updateMapColors();
}

/***********************************************
 * 2nd Round Calculate Button Handler
 ***********************************************/
function calculateSecondRoundOnly() {
  // Set the election mode explicitly for the second round.
  electionMode = "pres2";
  
  // Calculate the second round results using the existing function.
  calculateSecondRound();
  
  // Update the map to reflect the second round vote distributions.
  updateMapColors();
}



</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1465774414153454"
     crossorigin="anonymous"></script>
</body>
</html>
